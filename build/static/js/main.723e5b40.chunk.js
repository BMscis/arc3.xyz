(this["webpackJsonparc3.xyz"]=this["webpackJsonparc3.xyz"]||[]).push([[0],{248:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),c=n(16),s=n(14),i=n(1),o=n(50),u=new(n.n(o).a.Algodv2)("","https://testnet.algoexplorerapi.io/","");function l(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function e(t,n,a){var s,i,o,u,l,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.getDefaultAccount(),e.next=3,d(10);case 3:return i=e.sent,console.log(i),o=b(i,s,n.arc3Name(),n.toHash(),a),e.next=8,t.signTxn([o]);case 8:return u=e.sent,l=Object(c.a)(u,1),p=l[0],e.next=13,j([p]);case 13:return f=e.sent,console.log(f),e.abrupt("return",f["asset-index"]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getTransactionParams().do();case 2:return n=e.sent,e.abrupt("return",Object(s.a)(Object(s.a)({},n),{},{lastRound:n.firstRound+t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,a,r){return new o.Transaction(Object(s.a)({from:t,assetName:n,assetURL:r,assetMetadataHash:a,assetManager:t,assetReserve:t,assetClawback:t,assetFreeze:t,assetTotal:1,assetDecimals:0,type:"acfg"},e))}function j(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.sendRawTransaction(t.map((function(e){return e.blob}))).do();case 3:return n=e.sent,a=n.txId,e.next=7,m(a,3);case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function m(e,t){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(r.a.mark((function e(t,n){var a,c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==u||null==t||n<0)){e.next=2;break}throw new Error("Bad arguments.");case 2:return e.next=4,u.status().do();case 4:if("undefined"!==typeof(a=e.sent)){e.next=7;break}throw new Error("Unable to get node status");case 7:c=a["last-round"]+1,s=c;case 9:if(!(s<c+n)){e.next=23;break}return e.next=12,u.pendingTransactionInformation(t).do();case 12:if(void 0===(i=e.sent)){e.next=18;break}if(!(null!==i["confirmed-round"]&&i["confirmed-round"]>0)){e.next=16;break}return e.abrupt("return",i);case 16:if(!(null!=i["pool-error"]&&i["pool-error"].length>0)){e.next=18;break}throw new Error("Transaction Rejected pool error".concat(i["pool-error"]));case 18:return e.next=20,u.statusAfterBlock(s).do();case 20:s+=1,e.next=9;break;case 23:throw new Error("Transaction not confirmed after ".concat(n," rounds!"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(1),s=(n(45),n(481)),i=new(n(249).a)({token:s.storageToken});function o(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.put([t,n.toFile()]);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},311:function(e,t,n){},330:function(e,t){},332:function(e,t){},342:function(e,t){},344:function(e,t){},371:function(e,t){},372:function(e,t){},377:function(e,t){},379:function(e,t){},386:function(e,t){},405:function(e,t){},434:function(e,t){},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return j}));var a=n(14),r=n(0),c=n.n(r),s=n(1),i=n(7),o=n(12),u=n(248),l=n(255),p=n(138);function d(e,t){return"https://cloudflare-ipfs.com/ipfs/"+e+"/"+t}var f=function(){function e(t,n,a){Object(i.a)(this,e),this.url=void 0,this.asset_id=void 0,this.metadata=void 0,this.metadata=t,this.url=n||"",this.asset_id=a||0}return Object(o.a)(e,null,[{key:"create",value:function(){var t=Object(s.a)(c.a.mark((function t(n,a,r){var s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=2;break}return t.abrupt("return",new e(new b));case 2:return t.next=4,Object(l.a)(n,r);case 4:return s=t.sent,console.log(s),t.next=8,Object(u.a)(a,r,"ipfs://"+s+"/metadata.json");case 8:return i=t.sent,console.log(i),t.abrupt("return",new e(r,d(s,r.name),i));case 11:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),e}(),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),this.name="",this.description="",this.image="",this.image_integrity="",this.image_mimetype="",this.properties=void 0,Object.assign(this,t)}return Object(o.a)(e,[{key:"toHash",value:function(){this.hasOwnProperty("extra_metadata");var e=p.sha256.create();return e.update(JSON.stringify(this)),new Uint8Array(e.digest())}},{key:"toFile",value:function(){var e=new Blob([JSON.stringify(Object(a.a)({},this),null,2)],{type:"application/json"});return new File([e],"metadata.json")}},{key:"arc3Name",value:function(){return this.name.substring(0,27)+"@arc3"}}]),e}();function j(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(c.a.mark((function t(n){var a,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.arrayBuffer();case 2:return a=t.sent,r=new Uint8Array(a),s=new Uint8Array(p.sha256.digest(r)),t.abrupt("return","sha256-"+e.from(s).toString("base64"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(22).Buffer)},481:function(e){e.exports=JSON.parse('{"storageToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDhmNUUzRTMwNUNmMjNmRmVDNzRBMUI5QkM2MDkwZUI0RTNhZWYyZEYiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2MzA3NTE0MzM4OTEsIm5hbWUiOiJhcmMzLnh5eiJ9.Efeebv_4qjMHAOe3YUyXKju7IkKUfA4gzfrvXHsEkm8","ipfsGateway":"https://cloudflare-ipfs.com/ipfs"}')},513:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(34),s=n.n(c),i=(n(311),n(16)),o=n(517),u=n(83),l=n(60),p=n(0),d=n.n(p),f=n(27),b=n(1),j=n(14),h=n(51),m=n(45),O=n(13);function x(e){var t=a.useState(new m.b),n=Object(i.a)(t,2),r=n[0],c=n[1],s=a.useState({artist:""}),u=Object(i.a)(s,2),l=u[0],p=u[1],x=a.useState(!1),g=Object(i.a)(x,2),w=g[0],y=g[1],k=a.useState(),N=Object(i.a)(k,2),W=N[0],I=N[1],S=a.useState(),C=Object(i.a)(S,2),T=C[0],M=C[1];function J(){return(J=Object(b.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.preventDefault(),y(!0),a=U(),t.next=6,Object(m.c)(T);case 6:return a.image_integrity=t.sent,t.next=9,m.a.create(T,e.sw.wallet,a);case 9:r=t.sent,console.log(r),y(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(e){var t=e.target,n=t.name,a="checkbox"===t.type?t.checked:t.value;c((function(e){return new m.b(Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},n,a)))}))}function U(){return new m.b({name:r.name,description:r.description,image:r.image,image_mimetype:r.image_mimetype,properties:Object(j.a)(Object(j.a)({},l),r.properties)})}return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(o.b,{elevation:h.a.TWO,children:[Object(O.jsx)(v,Object(j.a)({imgSrc:W,setFile:function(e){M(e);var t=new FileReader;t.onload=function(e){I(e.target.result)},t.readAsDataURL(e),c((function(t){return new m.b(Object(j.a)(Object(j.a)({},t),{},{image:e.name,image_mimetype:e.type,properties:Object(j.a)(Object(j.a)({},t.properties),{},{size:e.size})}))}))}},r)),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("input",{name:"name",placeholder:"Title...",className:"details-basic details-title bp3-input bp3-large",onChange:R,type:"text",id:"name",value:r.name}),Object(O.jsx)("input",{name:"artist",placeholder:"Artist...",className:"details-basic details-artist bp3-input bp3-large",onChange:function(e){var t=e.target,n=t.name,a="checkbox"===t.type?t.checked:t.value;p((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},n,a))}))},type:"text",id:"artist",value:l.artist})]}),Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("textarea",{placeholder:"Description...",className:"details-description bp3-input bp3-large",onChange:R,name:"description",id:"description",value:r.description})}),Object(O.jsx)("div",{className:"container-mint",children:Object(O.jsx)(o.a,{loading:w,onClick:function(e){return J.apply(this,arguments)},rightIcon:"clean",large:!0,minimal:!0,outlined:!0,intent:"success",text:"Mint"})})]})})}function v(e){return void 0===e.imgSrc||""===e.imgSrc?Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"content content-piece",children:Object(O.jsx)(o.d,{large:!0,disabled:!1,text:"Choose file...",onInputChange:function(t){t.stopPropagation(),t.preventDefault(),e.setFile(t.target.files.item(0))}})})}):Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"content content-piece",children:Object(O.jsx)("img",{id:"gateway-link",alt:"NFT",src:e.imgSrc})})})}var g=n(4);function w(e){var t=a.useState(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=e.sessionWallet,u=e.updateWallet;function p(e){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=n.currentTarget.id)in l.allowedWallets){t.next=4;break}return void 0!==e.sessionWallet.wallet&&e.sessionWallet.disconnect(),t.abrupt("return",c(!1));case 4:return r=new l.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback,a),t.next=7,r.connect();case 7:if(t.sent){t.next=9;break}r.disconnect();case 9:e.updateWallet(r),c(!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.useEffect((function(){s.connected()||s.connect().then((function(){s.connected()&&u(s)}))}),[s,u]);for(var j=[],h=0,m=Object.entries(l.allowedWallets);h<m.length;h++){var x=Object(i.a)(m[h],2),v=x[0],w=x[1];j.push(Object(O.jsx)("li",{children:Object(O.jsx)(o.a,{id:v,large:!0,fill:!0,minimal:!0,outlined:!0,onClick:p,children:Object(O.jsxs)("div",{className:"wallet-option",children:[Object(O.jsx)("img",{alt:"wallet-branding",className:"wallet-branding",src:w.img(e.darkMode)}),Object(O.jsx)("h5",{children:w.displayName()})]})})},v))}if(!e.connected)return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{minimal:!0,rightIcon:"selection",intent:"warning",outlined:!0,onClick:function(){c(!0)},children:"Connect Wallet"}),Object(O.jsx)(o.c,{isOpen:r,title:"Select Wallet",onClose:p,children:Object(O.jsx)("div",{className:g.a.DIALOG_BODY,children:Object(O.jsx)("ul",{className:"wallet-option-list",children:j})})})]});var y=e.accts.map((function(e,t){return Object(O.jsxs)("option",{value:t,children:[" ",e.substr(0,8),"...  "]},t)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.e,{onChange:function(t){e.sessionWallet.setAccountIndex(parseInt(t.target.value)),e.updateWallet(e.sessionWallet)},minimal:!0,iconProps:{icon:"symbol-circle",intent:"success"},defaultValue:e.sessionWallet.accountIndex(),children:y}),Object(O.jsx)(o.a,{icon:"log-out",minimal:!0,onClick:function(){e.sessionWallet.disconnect(),e.updateWallet(new l.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback))}})]})}var y=function(){var e=new l.SessionWallet("testnet"),t=r.a.useState(e),n=Object(i.a)(t,2),a=n[0],c=n[1],s=r.a.useState(e.accountList()),p=Object(i.a)(s,2),d=p[0],f=p[1],b=r.a.useState(e.connected()),j=Object(i.a)(b,2),h=j[0],m=j[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)(o.f,{children:[Object(O.jsxs)(o.f.Group,{align:u.a.LEFT,children:[Object(O.jsx)(o.f.Heading,{children:"ARC3.xyz"}),Object(O.jsx)(o.f.Divider,{})]}),Object(O.jsx)(o.f.Group,{align:u.a.RIGHT,children:Object(O.jsx)(w,{darkMode:!1,sessionWallet:a,accts:d,connected:h,updateWallet:function(e){c(e),f(e.accountList()),m(e.connected())}})})]}),Object(O.jsx)(x,{sw:a})]})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[513,1,2]]]);
//# sourceMappingURL=main.723e5b40.chunk.js.map