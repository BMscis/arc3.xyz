{"version":3,"sources":["lib/validator.ts","../../algorand-session-wallet/dist/wallets/algosigner.js","lib/nft.ts","lib/config.ts","../../algorand-session-wallet/dist/wallets/myalgoconnect.js","../../algorand-session-wallet/dist/wallets/insecure.js","../../algorand-session-wallet/dist/wallets/walletconnect.js","Minter.tsx","AlgorandWalletConnector.tsx","NFTViewer.tsx","Collection.tsx","App.tsx","index.tsx","../../algorand-session-wallet/dist/index.js","lib/algorand.ts","lib/ipfs.ts"],"names":["validators","nft","urlMimeType","JSON_TYPE","token","metadataHash","Buffer","from","metadata","toHash","toString","total","Math","pow","decimals","validArc3","validateArc3","length","invalid","k","push","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","algosdk_1","require","AlgoSignerWallet","network","accounts","defaultAccount","displayName","inverted","img","isConnected","waitForLoaded","alert","AlgoSigner","connect","ledger","accts","map","a","address","x","r","setTimeout","txns","defaultAcct","getDefaultAccount","encodedTxns","tx","t","txn","encoding","msgpackToBase64","toByte","default","encodeAddress","publicKey","signers","signTxn","signed","signedTx","txID","blob","base64ToMsgpack","sign","stxn","Uint8Array","b","Error","teal","METADATA_FILE","ipfsURL","cid","resolveProtocol","url","chunks","split","conf","ipfsGateway","imageIntegrity","file","arrayBuffer","buff","bytes","hash","sha256","digest","Token","id","name","unitName","creator","manager","reserve","clawback","freeze","defaultFrozen","index","p","params","NFT","md","image","endsWith","substring","wallet","createToken","asset_id","getToken","assetId","fromToken","getMimeTypeFromIpfs","getMetaFromIpfs","NFTMetadata","args","description","image_integrity","image_mimetype","properties","assign","hasOwnProperty","create","update","JSON","stringify","md_blob","Blob","type","File","getAddrUrl","addr","blockExplorer","getAsaUrl","myalgo_connect_1","MyAlgoConnectWallet","walletConn","account","permissionCallback","request","approved","unsigned","signedTxns","tidx","signTransaction","s","declined","signLogicSig","algosdk_2","InsecureWallet","pkToSk","mnemonic","sk","mnemonicToSecretKey","keys","defaultAddr","txidx","Transaction","signBytes","client_1","qrcode_modal_1","utils_1","WC","connector","bridge","qrcodeModal","cb","connected","createSession","on","error","payload","killSession","defaultAddress","txnsToSign","encodedTxn","encodeUnsignedTransaction","formatJsonRpcRequest","sendCustomRequest","element","idx","Minter","props","history","useHistory","React","meta","setMeta","loading","setLoading","imgSrc","setImgSrc","fileObj","setFileObj","setDecimals","extraProps","setExtraProps","extraPropsVisible","setExtraPropsVisible","setCID","isMinting","setIsMinting","captureMetadata","putToIPFS","handleChangeMeta","event","target","checked","handleExtraPropUpdate","parseInt","dataset","eprops","reduce","all","ep","className","elevation","Elevation","TWO","Uploader","setFile","reader","FileReader","onload","readAsDataURL","size","helperText","label","labelFor","labelInfo","placeholder","onChange","rows","cols","defaultValue","min","max","fill","onValueChange","v","onClick","minimal","outlined","text","isOpen","icon","splice","handleExtraPropRemove","rightIcon","large","intent","MintDialog","sw","handleSetNFT","handleCancelMint","undefined","disabled","onInputChange","stopPropagation","preventDefault","files","item","alt","src","isLoading","setIsLoading","title","Classes","DIALOG_BODY","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","AlgorandWalletConnector","selectorOpen","setSelectorOpen","sessionWallet","updateWallet","handleSelectedWallet","choice","currentTarget","allowedWallets","disconnect","SessionWallet","interval","success","setInterval","clearInterval","walletOptions","entries","darkMode","onClose","addr_list","substr","setAccountIndex","iconProps","accountIndex","NFTViewer","useParams","setNFT","loaded","setLoaded","subscribed","fromAssetId","imgURL","mdProps","key","prop","arc3Invalids","test","href","THREE","Collection","collection","setCollection","getCollection","console","log","nfts","SEEN_INFO","InfoDialog","useState","seenInfo","open","setOpen","handleClose","ack","Intent","PRIMARY","App","setSessionWallet","accountList","setAccounts","setConnected","sessionStorage","getItem","setSeenInfo","collectionLink","Group","align","Alignment","LEFT","Heading","Divider","RIGHT","exact","path","children","setItem","createBrowserHistory","ReactDOM","render","StrictMode","document","getElementById","algosigner_1","myalgoconnect_1","insecure_1","walletconnect_1","walletPreferenceKey","acctListKey","acctPreferenceKey","mnemonicKey","wname","setWalletPreference","walletPreference","storedMnemonic","prompt","setMnemonic","setAccountList","acctList","parse","wp","m","mn","client","algosdk","Algodv2","algod","getSuggested","suggested","create_txn","getAsaCreateTxn","arc3Name","create_txn_s","sendWait","rounds","getTransactionParams","do","txParams","lastRound","suggestedParams","mdhash","assetName","assetURL","assetMetadataHash","assetManager","assetReserve","assetClawback","assetFreeze","assetTotal","assetDecimals","sendRawTransaction","txId","waitForConfirmation","timeout","status","startround","currentround","pendingTransactionInformation","pending","statusAfterBlock","getAssetByID","accountInformation","results","plist","assets","collectionRequests","storage","Web3Storage","storageToken","put","wrapWithDirectory","imgAdded","toFile","req","Request","method","fetch","resp","headers","get","body"],"mappings":"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","file":"static/js/main.76d49dc8.chunk.js","sourcesContent":["import {NFT, JSON_TYPE} from './nft'\n\n\nfunction mdurl(nft: NFT): boolean {\n    return nft.urlMimeType === JSON_TYPE \n}\n\nfunction mdhash(nft: NFT): boolean {\n    return nft.token.metadataHash === Buffer.from(nft.metadata.toHash()).toString(\"base64\")\n}\n\nfunction total(nft: NFT): boolean {\n    return (nft.token.total / Math.pow(10, nft.token.decimals)) === 1\n}\n\n// TODO: Check that metadata contains correct fields\n// TODO: Check that integrity hashes are valid\n\nconst validators = {\n    \"URL to metadata\": mdurl,\n    \"Metadata Hash matches\":mdhash,\n    \"Total is 1\": total,\n}\n\n\nexport function validArc3(nft: NFT): boolean {\n    return validateArc3(nft).length==0\n}\n\nexport function validateArc3(nft: NFT): string[] {\n    const invalid = []\n    for(const k in validators){\n        if(!validators[k](nft)) invalid.push(k)\n    }\n    return invalid\n}","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst algosdk_1 = __importDefault(require(\"algosdk\"));\nconst logoInverted = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAADuCAYAAAA+7jsiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABB1SURBVHgB7d1/chNXtsDx091qZhw7Qaq897/CCpwdiBUEVjCeeiH/5rECzAoCf7yqV8AUygoCK4h2EG9gjObvUNUebDDBVt/p25aILLek/nG61er+fv4BG/BMKI7vPefee44IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA5OQI0THDQ73ZuuT8akX0xpus4ztFlGL7uvRiPpCEIXDTK2YM7P05EniT9WvSPfTi5CB/2huMT2XKuAA1x+v2dR8uC1opW4APXd36VBiBw0QjB9/1B6Mjh+t/p7Ac/3Enx++qNrTK2SvCgvy+TKHd15CT68Sja9o6jnLbv+q5dSfspv8z49vPjb2SLEbhbJghMd+K9v+e4btcWXsRxTkIzOfrvL78cScO9e3Dnpd3uzn3qJFplH3vGfGfEGUgGt26Z/s7/vfmXbKmOYCv8fno66DidRyIfB554V590rr7vuk5Hgvfn4yiJG8mFPO71dsbSMKc/3PkpNNeC1uq6Rn4yLVx/WHFrLgjO++LLy+ing1R/wJHxxMjj/9rbGUpDRNvjA1fcl6Io2ipv9b99ilM1FgftLbG52yD1HzLSj9bjl9EK/EgaIM5fjfuTKDJiRrLlCNyasrlsHLQmdcHlOiOH784//U22XFx0cqQbfxDtJsIwvB+G8lQKMJ75u2w5Areu/D8e5Q7aqckkfBJ/A9hS9lxW5irFoRve7f1j/KrjSCA52WJW7//HY9ly5Lg1NM1r34iC0ISPv/5y91C2zGJeGwfcs+PD6dFPrr8bY8yo++LNXWkAVtwaCjs3qqe5uY7347atunFwijufow/ngjbfzadom206279FniFwa8h1RTE3jc59/ff3ZIu4vvOLzLbINq/1wsf2p57vXts6ZxHlxn9vwhZ5hsCtmbfvoiArmNsuis59t6ZIdZXXOvuzj+O8Ngo4+3hg4fJFavE2u0Evgyxy3JoJTj/+Io4pYYWcfNvb2zuSGgt+6N+Ljn5+mX2skddGf5dHt5+9+VYahhW3RuKiVClBa4tUTq23y4vntdHq+moatN0ieW3omvvSQARujUz8yUBKUvcilec7toLcjz+whSQvfGh/2rlVIK81TiOOfpIQuDXiOV6Jt53s44QPA6khm9fOPxKYFZJsXhsa+V/JId5mP//nUBqKHLcmfj89H3QcKfuR96i3t1Orc8xoK7wfbYV/m318La/tRJ+f3ZrKIlqxbz/b7md767Di1kQUtFVUfgd12i5Pi06fi1H2goQNWvvza1cdszmxlWhpOAK3BuKilOhdulgl7HzItfUsQ3Qua4tR/fiDuQsS9gmf5M1rxXnY1Lx2HoFbA2UWpRbZIpXUwFVeK58r3aGEccDZq46581qRp03Oa+cRuDVQblFqkekGp6cD2SC7RZ7vD3WV145fJVx1TC9asWU3PJSWIHA3zBaltG9KrRV30tiMG/eNo4C7ltfm2yLHeW3vyfa3XU2LwN2wiopSizZWpLp23zi+IHFVSFp8wpdFtLVu7HntMgTuBlVZlFq0iSLV4n3j2QUJe9UxXWvVRMPei+Mn0jIE7gZVWZRaVHWRym6R55uVzwpJhVrT2BV79+qGVdsQuBtUbVFqUXVFqhv3jW1e+/w4XvGvXXXMqG157TwCd0M2UpRaVFGRauG+8cl8Xpu1H/JMU1rQ5EXgbsiGilKLSi9SLd43nhWS0o8MSTScVaLbisDdgCAIbLAcSA2UWaSK81ozd14r5rUtJMV5rZOzT/JcR4w2I3A3YOL7tXkbW2aRavG+sSNy2/547apjRrOOGNJyBO4GeOLW4trhlXKKVEn3jY24Py9edcyi7XntPJ71VSwIPu2LP/lN6kX1ud+SkSHD8CJ8nLu1qsir7vPjRnazyIMVt2r+pEar7Yyzr1Wkio9+Fu8b27xUwqeFWqt67TyvXYbArZypTX77J9NVK1L58fa4P/8pm5dO04O+5NC01qoaCNwKvT07O4iWj1r2fXJd5ztR0Hs+Poq+EXzuJmnzUn/ifkdrVV3kuBUKzs6zTd6rmrm821MakB38T/9ePDX+UsaMDNHHiluR6YOCgdSZ66vl33Y4VxS0R4wMKQeBWxVfNngvOSWje5Oq0HnttCOGIBGBWxVHcbU15iQ05mn0k4dR4eZnURMVqfzzA1FQeGTIs2jFxlLkuBWwRSlPvHxX/G4ay4Xc7fV2xrNPBHbekPtnt8SCCp/p0lq1fKy4FVAeuvV4Pmit3le7dnUaiY5B0ZtUuVurznXEwGoEbsnUi1IXSwLUiNrF+1C83GfNhVqrNnhkiDYCt2y6Ranh4mr72eVHe36q8qjcddy/5SlS0Vq1OgRu2VSLUpdLC1G9Xi8qWIlSoSp7kapoC5pZRwykQ+CWKL4ppdflYrzucoQrjlolNvpamW5SMTKkWgRuiTSLUtHxz+t1v6f35c5INlCkorVq9QjckmgXpdxLJ1ULUttlQpSkKVLFeW3OFjRxXtvC1qoaCNyy6BalRkuLUgvciz+GVRWpGBmyOQRuWTSLUpK+6GSLVNH/+JGoWF2kcn3HXvroSw5tbq2qgcAtwVt7k0mtKOWc9PZ2hln+hOaZblSkSgyuq7zW2ZccoryWe8gFEbgl8BzNm1Imc6X4qkilsF025mnSN43CrVXJawsjcJXFRSlHscvFirPbVULjPJVixnK5c7j4SVqr1gOBqyzsqPZLHud92O5eevnPdE20WscPGW5ukwuPDGGLrILAVea6qhMKcq9Ovd4tW6AaSR6O8zCpis3IkPogcBXpFqVk+YOClHKd6ZrwcWJee9DfZ2RIfRC4ijzXVWm4ZhljXqc9u10mx5lutDXfPVz85HSKfL73vuS1pSBwlWgPqXac4veOMz48iB/oJ/3CtSnyGYUmvM8WWR+Bq0R5SPU489ntEqkfHjjuiry2QAuauF0rtBG4SpSHVI9EyfThwXjlb7J57e5fbgS43SLnzWtta1Xy2vIQuArUh1RfiGpOuGa7PFqS13ZprVpfBK4C3SHV5qhoUWqRe/lx2U0lm9cmBlih1qqMDCkdgVuQdlEqWq6K3ni64erhQcL2+2JyP+mbROHWqowMKR2BW5ByUarw2e1SYXj9G4LNa3t7NwpH8RR5kXx3iZ1ot0BeWwkCtyDlotRQe5v82eTTaO5Md1hGXhu6hvm1FSFwC1AvSuV8UJDG3JlulNf+NXHWbOdWkfNaWqtWicAtQLcolf9BQVrxme6SxwOFWqvG57W0Vq0SI0hyiotSvuQaH5kkjHLOrxO2r1VgZMj2YcXNSbso5V66Q9kQWqtuHwI3J+2bUqUVpdYoNDJEHFrQbAiBm4N6UUqktKLUKowM2V4dQWa6RSnbDO6vQ6lY4daqX9BadZNYcTMKgiDKBRV7SuVoBqdhel7bl+xOaK26eQRuRhPfj4LWyVPISVbi2e0y2iNDgvfnmvk+UuA4KKPg7MNvefsJJ7Dvbis9Sgl+6N9zTe7p9cPbz4+vPUqwg8088V5G34Duln0OjT+x4mYQBJ/2FYPWqrSlS9FRmOFueO3GlT3L9mT69Vz/R0FlCNws/InuP86yHhQsUagFTVJee0t+/Zw2GBnkGYaNfAjcLBTnAWk0g8vCPiAo9FRvMa89+/jT9SMx0w07HxhOXRECNyXlIdXiGDOUKnneQPK50Vo1/rsQcyNIXTfbMGzkR+CmpDmkWmxR6qvdSo+BPNdkD6qE1qpxXrvs1phx9tMOw0YxBG4K2kOqRarNba1om5y5qJY4MsTmtSt2HmmGYaM4AjcN3SHV6s3g1rHVZMkYuIl57fs/Hq1LF9YNw4YOAjcN1SHV+s3g1vKz/f+PVudXiXmtSXPNcfUwbOggcNfQLkqV0QxunSg/T5/f2taqXsJ5bYbXUK5QpCobgbuGclGq8rNby4hJtU221xnDL8Jvb+a1zi8Zv3kNKFKVi9dBK5RQlBpWvU0OHvRt0PZX/R47dcA2ME96W3uV14bZC1tXRaqRoBSsuKtoF6U28KBAjDtY8au2gdzD7os3iQOn3763Y0PzPd+jSFUuHhk03LsH3/y6ZBj10N49XvY8L95trDn6WScU8/DrvS/y9WjGSmyVG84sPoqwlyrsiJB10wZ8eVm0KDctUhG4JWCr3GDB9/1B9MNsu3ryufi0JmjjvFYnt6dIVRJW3BZYVXxKZPTa0lCkKkejc9x/P7hjpMXs7Sf5InyStc1McHZu29oMRIVzIhd/+SapCTvyY6vcUHEXxmfHh7l6QxnNK5ncpCoDgdtA8TT458e538ZeTbE3aiskN6n0EbhNY68s7hWfmhca1auZFKmUEbhNEo+61Gmd6ioXlHjup4vAbYpZ0CqNBLnaLusFLzepdBG4zXCiGbQzoZjXosZ0J96HgUAFgdsAoQnvlzF8y734Y6hZpPJclxauSgjcLWcfCay9vpiTnWIvxh2JnkFwdqbZl7q1CNwtFreXeXFc8l1go/rwP6pWU6RSwOsgrBWcfQj05iXF0wl7gkJYcbGW7pmu6XKmWxyBi7Xcy4+623Gnw3S/gghcrBUXqXQvZDBnqKBWP+uLuzz48kY0Xcg3lbdfrcAknPzsubnHmNwwnTN0KMil1SvuxJ8MRNewiUFreZOLV6oPDxyPM90CWh24WXoFp7KJZnAVsdvl6MxY8b+PIlURrQ3c30/PB7qNzmXc9Insrji6g8ooUuXW2sDtOKLa6Dw0YWNX25npO90j0UORKqdWBu600fmBKHIv3aG0QHSmq/jw4HORChm1MnBLKEqNmlqUWqR9pkuRKp9WBq56UUqk8dvkGf0zXYpUebQucEspSu3tDKVNjPJ8X4pUmbUucLWLUtLCnsHazeSEIlVmrQrcIAiifxxG91lZg89uV9E906VIlVWrAnfi+/f0nqfFGn92u4z2mS5FqmxaFbieqLdO0c31toh2MzmKVNm0JnCD4NO+LE6uK+qi3TNxdJvJRVyfVTel9qy4/kT1H4Ux5nVbzm6X0W4mF1WrKVKl1J7AdbSGWE2/nDFDaTn9ZnKmS5EqnVYE7tuzswP1s9uvdnUv3G8t3WZyrsucoTRaEbieeJzdlkT9TNc4+xSp1mt84E4fFAxE00V7q8lJlAeEMWcoheavuL4oX6czR20vSi1yL2UoipgztF7zA1e5KBV9QdXVpQmm38hGooZh2Os0OnBLKEq1/ux2Ge0zXYZhr9bowC2hKNXYZnBFqZ/pMgx7pcYGbilFqZY+KEhDv5kcRapVmrviqhel2vugIC39hwcUqZZpbuAqF6Xa0AyuKP1mchSplmlk4JZRlGpLM7iitJvJUaRK1sjALeOmFEWpdNQHhFGkStS4wC2lKNWiZnBFlTAgjCJVgsYFbtgxyq9L7CDmljWDK0q5mRxFqpsaF7j6r0sMr4Cyuvx4pHumS5FqUaMC9+279/fUb0pxdptZGWe6FKmua9R8XE/iYxvVbdrXnN3m4jrhMKowa96kErtd7vV0vyYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbNR/AKPeMVVJK9fKAAAAAElFTkSuQmCC\";\nconst logo = \"data:image/png;base64,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\";\nclass AlgoSignerWallet {\n    constructor(network) {\n        this.network = network;\n        this.accounts = [];\n        this.defaultAccount = 0;\n    }\n    static displayName() { return \"AlgoSigner\"; }\n    displayName() { return AlgoSignerWallet.displayName(); }\n    static img(inverted) {\n        return inverted ? logoInverted : logo;\n    }\n    img(inverted) {\n        return AlgoSignerWallet.img(inverted);\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isConnected())\n                return true;\n            const loaded = yield this.waitForLoaded();\n            if (!loaded) {\n                alert(\"AlgoSigner not loaded, is it installed?\");\n                return false;\n            }\n            try {\n                yield AlgoSigner.connect();\n            }\n            catch (err) {\n                alert(\"Couldn't connect to algosigner, is it installed?\");\n            }\n            const accts = yield AlgoSigner.accounts({ ledger: this.network });\n            this.accounts = accts.map((a) => { return a.address; });\n            return true;\n        });\n    }\n    waitForLoaded() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let x = 0; x < 3; x++) {\n                if (typeof AlgoSigner !== 'undefined') {\n                    return true;\n                }\n                yield new Promise(r => { setTimeout(r, 1000); });\n            }\n            return false;\n        });\n    }\n    // Only checking accounts, not that algosigner is loaded because sometimes it takes a few tries\n    isConnected() { return this.accounts && this.accounts.length > 0; }\n    disconnect() { }\n    getDefaultAccount() {\n        if (!this.isConnected())\n            return \"\";\n        return this.accounts[this.defaultAccount];\n    }\n    signTxn(txns) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const defaultAcct = this.getDefaultAccount();\n            const encodedTxns = txns.map((tx) => {\n                const t = { txn: AlgoSigner.encoding.msgpackToBase64(tx.toByte()) };\n                // @ts-ignore\n                if (algosdk_1.default.encodeAddress(tx.from.publicKey) !== defaultAcct)\n                    t.signers = [];\n                return t;\n            });\n            const signed = yield AlgoSigner.signTxn(encodedTxns);\n            return signed.map((signedTx) => {\n                if (signedTx)\n                    return {\n                        txID: signedTx.txID,\n                        blob: AlgoSigner.encoding.base64ToMsgpack(signedTx.blob),\n                    };\n                return {};\n            });\n        });\n    }\n    sign(txn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stxn = yield AlgoSigner.sign(txn);\n            const blob = new Uint8Array(Buffer.from(stxn.blob, 'base64'));\n            return { txID: stxn.txID, blob: blob };\n        });\n    }\n    signBytes(b) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n    signTeal(teal) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n}\nexports.default = AlgoSignerWallet;\n","import { createToken, getToken } from \"./algorand\"\nimport { getMimeTypeFromIpfs, getMetaFromIpfs } from \"./ipfs\"\nimport { sha256 } from 'js-sha256'\nimport { Wallet } from \"algorand-session-wallet\"\nimport { conf } from \"./config\"\nimport { Utils } from \"@blueprintjs/core\"\n\n/*\n\nThe following is a class and metadata type to support the ARC-0003 standard \nset forth by the Algorand Foundation and Community\n\nhttps://github.com/algorandfoundation/ARCs/blob/main/ARCs/arc-0003.md\n\n*/\n\nexport const METADATA_FILE = \"metadata.json\"\nexport const ARC3_SUFFIX = \"@arc3\"\nexport const JSON_TYPE = 'application/json'\n\nexport function ipfsURL(cid: string): string { return \"ipfs://\"+cid }\nexport function fileURL(cid: string, name: string): string { return conf.ipfsGateway + cid+\"/\"+name }\n\nexport function resolveProtocol(url: string): string {\n    const chunks = url.split(\"://\")\n\n    // No protocol specified, give up\n    if(chunks.length < 2 ) return url\n\n    //Switch on the protocol\n    switch(chunks[0]){\n        case \"ipfs\": //Its ipfs, use the configured gateway\n            return conf.ipfsGateway + chunks[1]\n        case \"https\": //Its already http, just return it\n            return url\n        // TODO: Future options may include arweave or algorand\n    }\n\n    return url\n}\n\nexport async function imageIntegrity(file: File): Promise<string> {\n    const buff = await file.arrayBuffer()\n    const bytes = new Uint8Array(buff)\n    const hash = new Uint8Array(sha256.digest(bytes));\n    return \"sha256-\"+Buffer.from(hash).toString(\"base64\")\n}\n\nexport class Token {\n    id:  number         // Asset Idx \n\n    name: string        \n    unitName: string    \n    url: string         \n\n    metadataHash: string\n\n    total: number       \n    decimals: number    \n\n    creator: string\n\n    manager: string\n    reserve: string\n    clawback: string\n    freeze: string\n\n    defaultFrozen: boolean\n    \n    constructor(t: any) {\n       this.id = t.index\n\n       const p = t.params\n       this.name            = p.name\n       this.unitName        = p.unitName\n       this.url             = p.url\n\n       this.metadataHash    = p.metadataHash\n\n       this.total           = p.total\n       this.decimals        = p.decimals\n\n       this.creator         = p.creator\n\n       this.manager         = p.manager\n       this.reserve         = p.reserve\n       this.clawback        = p.clawback\n       this.freeze          = p.freeze\n\n       this.defaultFrozen   = p.defaultFrozen\n    }\n\n}\n\nexport class NFT {\n    token: Token\n    metadata: NFTMetadata\n\n    urlMimeType: string\n\n    constructor(md: NFTMetadata, token?: Token, urlMimeType?: string) {\n        this.metadata = md\n        this.token = token\n        this.urlMimeType = urlMimeType\n    }\n\n    static async create(wallet: Wallet, md: NFTMetadata, cid: string): Promise<NFT> {\n        const asset_id = await createToken(wallet, md, ipfsURL(cid), md.decimals)\n        return new NFT(md,  await getToken(asset_id), JSON_TYPE)\n    }\n\n    static async fromAssetId(assetId: number): Promise<NFT>{\n        return NFT.fromToken(await getToken(assetId))\n    }\n\n    static async fromToken(t: any): Promise<NFT> {\n        const token = new Token(t)\n\n        const url = resolveProtocol(token.url)\n\n        //TODO: provide getters for other storage options\n        // arweave? note field?\n\n        const urlMimeType = await getMimeTypeFromIpfs(url)\n\n        switch(urlMimeType){\n            case JSON_TYPE:\n                return new NFT(await getMetaFromIpfs(url), token, urlMimeType)\n        }\n\n        return new NFT(NFTMetadata.fromToken(token), token, urlMimeType)\n    }\n\n\n    imgURL(): string {\n        // Try to resolve the protocol, if one is set \n        const url = resolveProtocol(this.metadata.image)\n\n        // If the url is different, we resolved it correctly\n        if(url !== this.metadata.image) return url\n\n        // It may be a relative url stored within the same directory as the metadata file\n        // Lop off the METADATA_FILE bit and append image path \n        if(this.token.url.endsWith(METADATA_FILE)){\n            const dir = this.token.url.substring(0,this.token.url.length-METADATA_FILE.length)\n            return resolveProtocol(dir)+this.metadata.image\n        }\n\n        // give up\n        return url \n    }\n}\n\n\nexport type Properties = {\n    [key: string]: string | number\n}\n\nexport class NFTMetadata {\n    name: string = \"\"\n    description: string = \"\"\n\n    image: string = \"\"\n    decimals?: number = 0\n    image_integrity?: string = \"\"\n    image_mimetype?: string = \"\"\n\n    properties?: Properties\n\n    constructor(args: any = {}) { Object.assign(this, args) }\n\n    toHash(): Uint8Array {\n        if(this.hasOwnProperty(\"extra_metadata\")){\n            //TODO\n            //am = SHA-512/256(\"arc0003/am\" || SHA-512/256(\"arc0003/amj\" || content of JSON metadata file) || e)\n        }\n\n        const hash = sha256.create();\n        hash.update(JSON.stringify(this));\n        return new Uint8Array(hash.digest())\n    }\n\n    toFile(): File {\n        const md_blob = new Blob([JSON.stringify({ ...this }, null, 2)], { type: JSON_TYPE })\n        return new File([md_blob], METADATA_FILE)\n    }\n\n    arc3Name(): string {\n        //Max length of asset name is 32 bytes, need 5 for @arc3\n        return this.name.substring(0,27) + ARC3_SUFFIX\n    }\n\n    static fromToken(t: Token){\n        return new NFTMetadata({ name:t.name, image: t.url, decimals: t.decimals })\n    }\n}\n","type Config = {\n    network: string;       // The network to use for creating nfts\n    storageToken: string;  // The token provided by web3.storage\n    ipfsGateway: string;   // The IPFS gateway url for retrieving files\n    algod: string          // The Algod api url to use\n    blockExplorer: string; // The Block Explorer to allow linking out to\n}\n\nexport const conf = require(\"../config.json\") as Config;\n\nexport function getAddrUrl(addr: string): string {\n    return conf.blockExplorer + \"address/\" + addr\n}\n\nexport function getAsaUrl(id: number): string {\n    return conf.blockExplorer + \"asset/\" + id \n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst algosdk_1 = __importDefault(require(\"algosdk\"));\nconst myalgo_connect_1 = __importDefault(require(\"@randlabs/myalgo-connect\"));\nconst logoInverted = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAEGCAYAAABl6SBFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEHpJREFUeNrsnf9RGzsXhhUm/3++FVxTQUgFLBUAFcRUEKiAUIGhAkwFMRWwVBCngriDOBXwrYycyxACllZaSec8z4yHuXcCLPrx7nuOjqR3Dw8PBgD0skMTACACAIAIAAAiAACIAAAgAgCACAAAIgAAiAAAIAIAgAgAACIAAIgAACACAIAIAAAiAACIAAAgAgCACAAAIgAAiAAAIAIAgAgAACIAANXyPtcvfvfuHa0/IA8PD3vdl1FAP7W03qD9pEcEIMkEb9z/2ndfgyb+K4NyIwiL7vPLfV12QrGgF+rlXa5ryHACwZOycZP7g/u6V8ijrQWh+3x3YrHo+nhFj5XvBBCBsgfE5u2+7yZ7U9mfsHCfeysMXZ8v6VVEABHYztrbyX5Y4aTfRhSsS7gl14AIIAJ/TvxP3eeo+4yV/Nk2VJg7QZgzChABjZ1tJ/tnZRP/LUG40e4QEAEdMf6Rm/x7Bl7C5g1uus9MYw4BEZD91j93AjBinm+NdQdXmtwBIiCvQxs3+Rvmcy8WTgxmiAAiwOQnVLiQLAaIAJMflIsBIsDkB+VigAjU12Hj7svUPCb8IB+tE4MWEUAEhuoom+E/NY9LfWT7y8E6grOa9ywgAvVY/2tDgU+prJwruEQEEIEUb/9rrH812GXFk9q2OeeYj5wstF3H2In/AwGoCluR+a3ruy80BU6g79vfJv4mDJXqXcFxDWXIOIGyOmP9JkEARLkC+hIR2FoATp0AjGkNMaxzOl3fXjuHB4QDf7X/JP90hAdFJg0JB/Lb/zsEQE14cOcSvoQDNMHvtf87wx5/beHBVxf6IQLKBWDiBIA4USdTmydABPQKwNTlAEA3k24s3GlNGKpNDDr1nzD+4Qk2UXiQc+8BiUEEAPKySRiqcgQ7yib/yNo+BAC2EAI1SWI14YBTd1YAYFtWLjRYDDxOEQEEAAoTgt0hcwTkBNJxjQBAACMNOQLxIuCSgFSGQd8cwQgRqFcAJoxjQAgUioA7TAIBgJhCMJX4h4lMDLpSYCoBIQWX3dg9Szh2EYEIjbg5DAQgFSep7jpABPo3oI3Z7FmAbAaC1HxMUUPAEmF/2A0Ig401KYlCMSLgVgKoBYCh2BSgIQKFCMDEsBIAw7PntqNXTfU5AXcf4DfCAMjIQax7EEkMhjXaN8IAyEy0PQYkBv0b7AsCAIXkB6qtS6nWCVAPAAVibzmaEw4MJwKEASAuLCAcIAwAwgKcAGEACCB4tQAnsB1TxhgUTlX3HVYlAq4oqGGMQeGMu081NxtVEw44ZeWmYKgFmxy0m4yWhAPxOEUAoCLsS+scJxDJCVAaDBXjteU4x3x8X0lDniMAa1qPf7tXQJstnC3eNo6W6PRsIvsAJ9DDCTgX8IP5b9quzbYeTO7K7ZwrKcvueXc9nndi5B4Jt/WSITmBv7sAMMb3XLs28/OeeP77ueC+K3oMF+0EcAG/mXXt5TupbPv9zBQSeLmWJ88ruRR8KzeAE8AFvMQqwAXkdgOhz3uLGzCIwBNFtG+wCRpgrnpsSLnP5FpCD+CUHBI0ztkiAh6cMv/XybUvPb5/6EnVx7UYJx4rwf15jgj48RkNMBd9vtlVqy0rcS0a3MCkxD0FRYqAWy7SXhfQRrrgYqi8gBWbywg/5154v54iAriAQVxAhkl1EeOMPeFOwPIJEXjbBdglIu0HhsxinV47kBOI5VqME5KF4L4dd2P8CBHABQzlAobKC1xE/nk3wvv3EBF4nSPtAuC7/TSzxZ5HdC1DupecFJUgLEoEnE3SnBC0Vvgywc9NmReIfk23WypcCu/rI0TgZT4Z3ZxFSq4N9WZN4Vq0uIFiQoJi9g44e/RTsQB47boLcFmx6/Kj3brziiv8KrzP/3neftr3DmjPBZwk/vmx36wXqQRAiRMoZsyXJAL7igWg9U2u2bsX3HJqjryAdS2Xns975LM05gSGkAAngAv4y4SyoZNdSm08JtU88/NOAwb9rfB+xwk8GSR2MGtdFZgFJNemrr18J1WMN2sbsCS4OSS28fw+6dWDpoTCoVKcwKFSAfDededCgIn7T99JFSMk8HUBY/NfAdjYZztthg1QKsPgUkSgUSoCIbvupi+4qKHerCGu5fkhsbiBwsZ+dhFw8aLGvQLeZwU469iEDqKe+/VDXEtj/jwYxtf1Sd9VuJe7erAEJ6DVBYTU208j2MnQvECIaznv29+RE5q4gUJFQOPSoPeuO3eE+DjCAAp5s8ZyLZaRZwijISTY1y4CGkOBC88J9eqVVp4Z5jb1877iWoYUrqpCAsIBXcwCl9hGMd4kAXmBmK4lNC9AclCqCHhWvGl1AWPz9gGVvoOoTfi821zE6ZUMcysSkg8ayToXcjsBbSJwEVgYZGJOKrN9JV4K1zKEcBESVCQCY0UC4H1WgEugbRvvNwkmVArXEhoSSC8hHmsVAU0rA2eRlthi5AWsG3nLkaRyLUFOwDkSyXcS7GsVAS1OYBmQXJt4ThTfGvQ2o2tZ931AHCw5JBgjArIJOSvA97aasec1V/cZXUtoXuAWERAkAgEFI7USdFZA4KCIkRcYwrWEWmDJTiDbCsGOgaJcwJOzApLGla/kBYZwLUEhjIKlwpE2EdDgBGLsukvZpvOMriXUEUoOCXACwgjZdWcnU5+76vrmBYZ0LRuoHlTsBD4IF4GQXXfXEX5v6D6CoV1LkHsRfn35/7SJgOTjxEJ23TWRQiSfvMDm3r8cruW3BfZ0L5LdAOGAIEJu5ZlG+t2+QtJmdC2hz3zPEJMhAmOhbdr6HoThlthivQVGnktNNxldi7d7UZAXQAQEkGLXXbI3q4uxc7mWDb5LhVKvLyccEMCsx3HcMUlWhx7ZtYS6l7WDETh+RoiAPhdgJ//nBM/RJBKAUQIXEPrMLcMNEShOADItsf3tzZpCCE5NureVV72AkuvLEYGKCN11N0n4TFFFwPOsgKDnDTh6GzeACBTDULvucuYFzgdoR1/humXoIQIlELLr7sik3zsR7ecP4FpChQsngAgUQciuu+kQDxYxL3A+UFuGLBUiBIhAVgbfdedJ74tee5wVEMI4oISYkAARqMcFRNp1N1hIkKiQKfYzUz2ICGRjFngQ55AFIX0vu0xRyBTVvQi7vnyFCNTVWSG77iYZnjXIDWRwLX2eV4obWGgTgZprv3PvuhsiLzC0a9kQUujErsJKRaDWgyGWBey688Hbzrs6/knGNvZqKyXXlxMOFETIDb3XGZ835C05zdzGIe5FghAQDlRAiht6S3MtQxQyvUVIQlNCSPBLmwj8qrCTSjgrILVrmRbS1r5CJMEJqFsdqC0nkPKGXlxLz5BAyJ0EhAPCXMC4JhdQgGvp6wTWwocTwAkkm1CJb+gtwbWkOtsglJALS6suIQ486q3/7+0aOtcfbN8+DxX0jRWrXZ+6ALckeJfxeT/6iJZzLT8KbHu7Rdv3nIafps7j7G0SdzfHlMi9RFhDSBByVkBOF3AV4FquC237kDMRag0Jlrl+8Y7WP9xDnWeeb6KJyXRqrAk/4agptP2PAr6n1pBgoVUEvhfeMSG7BHMm12pzLduKlAYn8F2rCJQcDrSFHB++dVtW5lq2RctS4RIRqN8F2Mn/OePz+u5qTHl8eExCQpXqQoKAF44MEXCqXeJS4ayg48NTupYasugaLizNGsLsaG+AFwg5KyD3rrvaXEtSN1Dh9eUL7SJQWnLwqrLk2mVlriWEkKXCmtzAvXYRKMkJ1LbrzoqVb3lwk9m1hHBU28TCCfhZt5JEoLZdd1cFXnqSgpALS2txAssAJyfOCZTiBjgrQFZeoJbry7OLVSkiUMKSTm277s4Cvmdq6iXktKEari+/RwTKcAK17bprfc/VG/jSkyROQOiFpdmfMesuwmeD9EfGQbpb2a67Ax/RcpPnh6lzd91TjgPEL+e4ejMU6P6e42fPq9YJ5IyNLirbdSfhrIBQpO0qLKKysSQn0Jjh9+BzVkBdrPfcezoBmwz9Wujf84cDzTEf35fSGvbt1jXAauA31sw8lqX6fE/O5Jp9q/le2nlu5DB2k3ol4G9pcy8NFucEnAraCXZqAORz8tKSdI75WJoI2IKQb4wPUMA/L4Wh2hODm40fS8YHCGceUOmpQwQcV4wREE5RRUxFhQPODo2NnGw2wHNeXeFQHw44cbDhALfMAi5AcThASACSmSEC27mB1pAgBIECUEptQA1OwHLBmAFhFOlwi0sMPqXwzR8APtgKwYMtxjxO4Bk3jB0QQrHOtnQnIGULLOACDrb5hziBP4ViZVgpAFyAXieAGwBNLgAn8LobYKUAcAFancAThWSlAGrjj+PDcAL9OGNMQWVUMWarEQF3wGTLuIJawoASqwOrDgecVeLQEagBO/k/hpwZQDjwtnDYQ0cuGWNQehhQ0qEhopyAU8qRcwNjxhoUiHcyECfgLx5WYUkSQolUOTZ3amxplyTk4BEojWqSgVWHA8/CAioJoRS8KgMJB+KFBceMPSgkDKh2LO7U3PLuBCJWCyA3JzWtBogJB55ZKLtasMdYhAxcdmP5LOJYRgQCG84KwB35ARiYRTeOP8b8geQEwgXFFhGdMCaBPIBSEXBCMCc/AANyXONyoNhw4JmdsmFBwxiFhLx4ozDhQEEKbWM1xikkYpZKAHACcdWURCGkIEpBEE5gGIGxTsB21opxC5FYGKHFaTtSe4wVA4gsAAc1FwSpFAEnBHOEAHqyXgqUKgDiRcAJwQwhgB4CcCBlKVCtCCAE0FMAxK807WjpUYQAEADlIoAQAAKACCAE8BZ24u9qEoD1nJBYLLQN3d/ddF++GgqK4D8ByL4MSLHQsCLUGgqK4JG5EVwHgAi8LgRr+2fYa6AZuxfgWKsAqBcBJwQr5whmzAd12N2A6vNDanMCf4nHvnRfzpkb4il2BYDjxcrohMaQMJRMawouAyYxWEZ40Lo8QUtriMNeDnKgOf5HBDzyBG7f+AWtIYKls/9faArCgRB7Zg8ouTYcaV4r652ktbz9CQfKdAWbY6VxBXWx2QJ8jP3HCeAK9DHrPmc1Tn6cQD2u4MxQaVgim9LfE97+iEBqMbD3G+waCoxKsv72zf/Rre4AIjCIEKxctZl1Bgy8fKwF2QkzIALZQgS7nHiAGAwe99vJf4b17zmGSQzGxVUc2tLjhuGVbPJfSD33j7JhxACUTn5EQHan2uXEz91nwjz2xtr8Kxv3a7H8iIDszh05IbCCMGZ+v0rbfW6k3fmHCCgXgRdChU/d58iwW3GDtfm2xPdKuuVHBBCB5+7ACsGh+6rR7s/dW79FBxEBBOExiXgo3CEsn0x8jnVDBOCVwbD3RBSayt/29i1/ax6v9l7Su4gAItBPFD6Yxw1MpW5ishPevuG/M+kRAUQg/YCxojB2n30XQuwNONlXbrLbSb/E3iMCiEBZ+YWNGGxEYsO/5u0lSjuZfz3775Xrt5YWRgQAQBBsIAJABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQBABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQBABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQAokP8LMAAapFk/2sB7UAAAAABJRU5ErkJggg==\";\nconst logo = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAEGCAYAAABl6SBFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADt1JREFUeNrsnUFyG7kVht90eR/mBOGsUpWNOSdQ+wSmT2BqmZWlE5A6Ae1VlqJPYOoEbp1g6E2qskrnBvQJHMFuWizLsgh0o4GH931VLI+qRlILDXz4ATTQv3358kUAwC4VRQCABAAACQAAEgAAJAAASAAAkAAAIAEAQAIAgAQAAAkAABIAACQAAEgAAJAAACABAEACAIAEAAAJAAASAAAkAABIAACQAAAgAQBQy7NUv/gf//wPpT8us7vPJOD7GopuPP79r7/bkQBEaeB19/VZz4b/lBB2d5/P3b9t9y+QBGAk6q5xP+/+nY38u4//PeYghE+dLNzXe24XEoB+HHr3s66x15mnEfeZ332WR2Jwn9tODC23FAnAaY3JNfaXmTd6HzEsjqTgZHDDXAMSgIeN5XXXi04L/zvd56IbKmw7IWypAkjAIq6xvzHQ8H811Fl0n4MQ3pMQxofnBNJU/D/vPv/tesQpxfK9XD525bKiXJBAib3+dVfBr2XcGX2NZbXsyuqD6J8XQQLGqY96t4UMu2ZvgXlXfn/K/eQiIAFVjf8jPdkgzI6SFDJAAjR+hlXIAAnQ+JEBMkACGVXGDzT+5DKg/JHA6LgJvpV8m7CaUxzZJLFrYfIVCYxU4VzjX1LhsmMh989fABKI0vsfov+U4sj6Pq07UfM8BhIYjHnXwxD99TDrRLCiKJBA317luksARH+dLDsZkN6QQHBPsqAouJdIwB4X9B7FpjpWEJDAkxXFRf81RVEsLg18FCYNkcAjkdFVDib/uNdIwCA1vYPZ1HeBBOAQDxkn2mTdzRMgASoA0BHY7AgsS+CaKAg/GRJOkIAdASyo9/ADM4sisCaBSXeTEQA8JYIZEihXADX1HBCBPQlMhCVACKszEyRQzhwAAgBEYFQCTgA8GQZ9hwYTJKBXAAvqMSACmxJYIQAYWARrJKAH1/iX1FuIUK/WSECHsXkUGGJxUVrCLE0Ch9lcgJgUtdpUmgTYDQjUNcMS4FkAIHUalsBCWAmA8SlixaAECUyFMwEhHW6isEYCaeGdAEAdNCyBFfMAkMn8wDUSSDMe44EgyIW5KN2jolkCPBAEOdbJCRJgGAAMC5AAwwAwPiyokUBcWA4EhgWGJbAQzgiE/JmKouPsNUlgwjAAFPFGlLzVWpMELoRXhQOdllkJTDuzAmgbvma/ivVMSWEuhUeDHY3H/zvLoMx2d5+9h+hLTHpuIvsFEuifAha0/68C8KlMF5J2JaW9+/zh2WuW+ABY3X2aXC9Qw3CAycBvXEZMDTE49/z/twXfu6zrcO4SIAV8Y9NF61hRPEZq8ZXQPuBv1JYGkAApIIh9QApInQZCr/eGNIAEjpmQAr7yrkePfqsktVgYEtSS6cRnzhK4oP1/nVxb9fj+sRtVn9SSeghjNg3kLAGeCxC5GkAirZLUYiENLCTDpe6KwsqWpovWQ/ycsVLL2wF+zm3h9/UCCZACxkoBYzeqq4Gi/Lbw+/oaCTzNTDgwZDNgDz5GEhgqtRzmFXYF39upZHYMWY4SIAUMlwLGmhe4GvjnvS/8/r5EAr9mjgAGb7QxI/Y2QtpoCr/HC8lozqvKUACWJwRdFH4b4efGnBe4jPAzdzLuqobpzi43CbwW21xKnHXyWD3rVcTGWnoaeIkEHjIxPhRwjWkTMWHsIvzMtxHL46bw+51N6q0yKxTLnEf++UP3rEMtCVpNAtnU+ZwkcGZYAE1ApV+J31LqkPMCbUAK8H1Dz54hAUmAFPDroZNbSq09vmeb+HrXAZXewpAACXTUYndVYCP+k2vrrrx8G9UQPWtIajkcElt7ft/WwP2fI4GMYlECQnbduSHA4kiePgwxJPBNAVO5fwBsKn7baVspf6nwDAmEVeZSCNl1t+5Rdn171pDU8uMhsaSBzOp+DhKYiM29Aq4xrQKiY92jEvXZrx+SWmp5eDCMb+orfVdh8lOhc5CA1RQQ8rz9eoA4GTovEJJalgPcbwvzArV1CVhcGmzE/8Ggx97ANMa8wFCp5ZD8EEFGbSAHCVgcCvimgKdeaeUzw9yMcL2PpZYxxaVtSMBwwBAbCVtimwzUk/jOCwyZWkLnBZgcLFgCpICnmcrTB1T6VqIm4vWe8iJO38mwVso+aCRpW0AC4wugHTBWhzaqU5/Ei5FaxhAXElAkgakhAYTsuqs9xvt1hAYVI7WEDglKf4R4alUCllYGQs4KWEYqy/aERBIrtfRJAiW/k+DMqgSsJIFW/CfXFp4NZR7QqFKllsO9nw14zSQBJJA1IWcFLAPK0qc8bxOmltA0cIMEypJAbUQAjYSdFTCNXKZNwtQSGoGbwuvKzJoErBB6VkDsceVj8wJjpJbQIYy73pKXCifWJGAhCWyk/667mGW6TZhaGBKQBIonZNeda0x93lXXd15gzNRygKcHDSeB54VLIGTX3fUAvzd0H8HYqSU0CZT8+vK/WJNAyceJteK/664eaIjkMy+wP2pUY6eW4wjsO5woNQ0wHCiIkLfyrAf63b4iaRKmltBrvqWKlSGBaaFl2gT0VIsBewHfk5reJ0wtIeml9HkBJFAAMXbdxexZQ5bc1gNfr+9SYamvL2c4UAAbCT+Oe0hiPoe+iFBZQ86ZLPH15RMkYC8FuMb/JsJ11BEr6TrSz/a95obqhgRyFEDr+T1DLLE91lhjiOBC4vVWvs8LWHh9ORJQROiuu0XEaxpaAlMZfu7ix+v1FQxpAAlkw1i77lLOCyxHKEdfcd1Q9ZBADrhIuvH8nrnE3ztRD/yzFiOUJbsKkYBKQnbdrUe6tqFEsBzpekOWChEBEkhKI+PvuvNhiBe9LmS8HZ/TgLJhSIAEVKWAIXbdjZkEYjzINPQ18/QgEkjGRsIO4hzzgZC+L7uM8SDT0OmllXKWCvdIQNfNCtl1t0hwraFpYOzU0ud6S0kDO2sS0Pzsd+pdd2PMC4ydWo7l4ysCdhUqlYDWgyFc9FwF9G51ousNifOzRKmFeQGGAyoIeUPvdcLrDekl14nLOCS9lCAChgMKaGT4N/TmllrGeJDplCTiOxQpYUjw2ZoEPiu8STmcFRA7tawzKWuLQwJzqwPa5gQ2Eu8NvaSW/kOCVvQfNMJwoLAUMFWWAlKnlr5JQET/I8QkgcwF0CqK1SGpJdbZBqFMxf+0Ie2PEJMEMrZz7Df0Dn29IanlIsOy900DjeheehZrEtAigpCzAlKmgHcBFeo607IPOROhQQK6JNAquDEbz+9ZSKJTY3ukljrT8g9JU1qHBDurEviU+Y0J2SWYcnJNW2qJNSTQyCerEsh5ONBIHseH+5SlptRyKlaWCpkTKCAFuMb/JuH1+u5qjHl8eMokoHVI0FiVQCt5zuZuJJ/jw2OmFg0vhbXwwtKkQ5jKegH8hJCzAlLvutOWWmKnAW2vL99Zl0Buk4MhZwWkjNVvlaWWEEKWCjWlgVvrEsgpCbjGtPL8npS77kIeDKoTp5YQ5toaFklArwS07boLSS1L0UfIC0u1JIFWEj8vk8uhIk0m17Dx/B7OCsh3XkDL68uTyyoXCeSwpKNt191lwPesRS8hpw1peH35LRLIIwlsRNeuuyagB1lJPmcFhCaBEl9Y2iCBb6R+zbS2XXchqeWN6KdWVq9OGQrskUD6sVHIWQEpd91pSy1DUtquwiyebKyMF4i2XXclnRUQQmm7CrMQ1LPMCmQ/co/lelXfpad14jKaeo7tl1IO004E+wL+liaXocqzzApmM3KvdaGsl5xLuhOLcuFDIX9HNisXFQUDkIQtEvg5uc/mAgwlgD0SeJx31BEonKwSb44S4OWSUDJtbnW8opAA7KaAXCXAkABKZoMETqMRJgihTAG0SOB0rqgzUBhZJtycJZClNQF6pNsdEvCHh4egFLJNtrlLwG3u2VN/oIAU0CCBMPbCSgGQAkxLgDQApAAkELSHHoAUUJAEDmmgpT6BMrai4JzDSlGBXlKnQBkq6qwmCaiwKsDRMKBFAqQBsEkr/mdXIoET2WkqXDA9DNgjAWIW2GQryrbCa5TAnmEBUDdtS0ClbcEEKlNqpbjAz4UnCSEfGlE6X6VZAk4Ar6h7QF20KwHV9oWiUJ1KqwJugJuI2VEPIRGuE1I9P1UVciOYH4AU7KSAlaqqoJtxTp0E5gHsSkC6SMb8AIyFE0CLBPKcH2ionzDC8LOYelYVeINeCROFEI+NZPgCESTwcKzGRCHEoJEC556qQm+WSwIvEAEMXKeKfDitKvymsWIAdCqGJeDYIgIYYHj5quRUWRm4iRtEAD0E4BJAW/IfWRm5mYgAQgVQ/EpTZeimIgJAAMYlgAgAASABRAC/xDX838XYw2aV0Zu9EZ4jgIcCMFknKsM3vUEE0LG1XBcq4zffZPyDB6nwlRjuDCrqwPeJoA1FYY5zYX5InlEPvovAVYb/3X2WFIcZ8ZMASQIPWDFPUDwNQ0AkcGolaSiK4rhC8kjANy5eURRF0Hb3c0VRIIGQ4cEfREfVbLt7SLJDAsHsukpEKtCX5l6J8eU/JEAqsMpGvs3r8NJaJBAtFVzSu2R7f9zYnzMmkUB03nY9zYaiyCb6XzL2RwIpKt45FS8bIfPiGSSQPIK+QAZJxv0MzZBANjTIYNTG71JYS3EgAWRA4wckkL0M/hAmEENxMd89n/FXGj8S0D5ncN5V5Esq8skCPZTZijE/EiipVzvMZB/OL6By39P+pHwACRTf0x3GuFafbNvL/XmPv5OU0sChInk0AveZ3H3qu8/Lu8+8+7rUHt9J773wCDYSgAdC2Mr9+xNnR1Kolf9dLvncdP/S0yMBOJFd9zk8CXeQwvPuv2cZD3XcdX+i0SMBiCOFY5wUpt3nrBtCzEZs7Puuse+6xk68RwKQoNf9GccyOEjiwN9++Pox4Xz+4ev9E78TlPLbly9fKAUAw7BECIAEAAAJAAASAAAkAABIAACQAAAgAQBAAgCABAAACQAAEgAAJAAASAAAkAAAIAEAQAIAgAQAAAkAABIAACQAAEgAAJAAACABAEACAIAEAAAJAAASAAAkAABIAACQAAAgAQBAAgCABAAACQAAEgAAJAAAGfJ/AQYAHdQzxPOOxTAAAAAASUVORK5CYII=\";\n/*\n Warning:\n    Popups will be blocked if the connect or sign are called outside of a user triggered event, please make sure\n    the user allows all popups or the calls are all triggered by events\n    https://connect.myalgo.com/docs/getting-started/important-considerations#browser-events-and-blocked-popups\n*/\nclass MyAlgoConnectWallet {\n    constructor() {\n        this.accounts = [];\n        this.defaultAccount = 0;\n        this.walletConn = new myalgo_connect_1.default();\n    }\n    static displayName() { return \"My Algo\"; }\n    displayName() { return MyAlgoConnectWallet.displayName(); }\n    static img(inverted) {\n        return inverted ? logoInverted : logo;\n    }\n    img(inverted) {\n        return MyAlgoConnectWallet.img(inverted);\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isConnected())\n                return true;\n            try {\n                const accounts = yield this.walletConn.connect();\n                this.accounts = accounts.map((account) => account.address);\n            }\n            catch (err) {\n                return false;\n            }\n            return true;\n        });\n    }\n    isConnected() {\n        return this.accounts && this.accounts.length > 0;\n    }\n    disconnect() { }\n    getDefaultAccount() {\n        if (!this.isConnected())\n            return \"\";\n        return this.accounts[this.defaultAccount];\n    }\n    signTxn(txns) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const defaultAcct = this.getDefaultAccount();\n            if (this.permissionCallback) {\n                return yield this.permissionCallback.request({\n                    approved: () => __awaiter(this, void 0, void 0, function* () {\n                        const unsigned = [];\n                        const signedTxns = [];\n                        for (const tidx in txns) {\n                            if (!txns[tidx])\n                                continue;\n                            const txn = txns[tidx];\n                            if (algosdk_1.default.encodeAddress(txn.from.publicKey) === defaultAcct) {\n                                signedTxns.push(unsigned.length);\n                                unsigned.push(txn.toByte());\n                            }\n                            else {\n                                signedTxns.push({ txID: \"\", blob: new Uint8Array() });\n                            }\n                        }\n                        const s = yield this.walletConn.signTransaction(unsigned);\n                        for (let x = 0; x < signedTxns.length; x++) {\n                            if (typeof signedTxns[x] === 'number')\n                                signedTxns[x] = s[signedTxns[x]];\n                        }\n                        return signedTxns;\n                    }),\n                    declined: () => __awaiter(this, void 0, void 0, function* () { return []; })\n                });\n            }\n            const signed = [];\n            for (const tidx in txns) {\n                if (!txns[tidx])\n                    continue;\n                const txn = txns[tidx];\n                if (algosdk_1.default.encodeAddress(txn.from.publicKey) === defaultAcct) {\n                    signed.push(yield this.walletConn.signTransaction(txn.toByte()));\n                }\n                else {\n                    signed.push({ txID: \"\", blob: new Uint8Array() });\n                }\n            }\n            return signed;\n        });\n    }\n    signBytes(b, permissionCallback) {\n        throw new Error('Method not implemented.');\n    }\n    signTeal(teal, permissionCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.walletConn.signLogicSig(teal, this.getDefaultAccount());\n        });\n    }\n}\nexports.default = MyAlgoConnectWallet;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst algosdk_1 = require(\"algosdk\");\nconst algosdk_2 = __importDefault(require(\"algosdk\"));\nconst logo = \"data:image/jpg;base64,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\";\nclass InsecureWallet {\n    constructor(network) {\n        this.accounts = [];\n        this.pkToSk = {};\n        this.defaultAccount = 0;\n        this.network = network;\n    }\n    connect(mnemonic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sk = algosdk_2.default.mnemonicToSecretKey(mnemonic);\n            this.accounts = [sk.addr];\n            this.pkToSk = { [sk.addr]: sk };\n            this.defaultAccount = 0;\n            return true;\n        });\n    }\n    static displayName() { return \"Insecure Wallet\"; }\n    displayName() { return InsecureWallet.displayName(); }\n    static img(inverted) {\n        return logo;\n    }\n    img(inverted) {\n        return InsecureWallet.img(inverted);\n    }\n    isConnected() {\n        return this.accounts && this.accounts.length > 0 && Object.keys(this.pkToSk).length > 0;\n    }\n    disconnect() { this.accounts = []; this.pkToSk = {}; }\n    getDefaultAccount() {\n        if (!this.isConnected())\n            return \"\";\n        return this.accounts[this.defaultAccount];\n    }\n    signTxn(txns) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const signed = [];\n            const defaultAddr = this.getDefaultAccount();\n            for (const txidx in txns) {\n                if (!txns[txidx])\n                    continue;\n                const addr = algosdk_2.default.encodeAddress(txns[txidx].from.publicKey);\n                if (addr === defaultAddr) {\n                    signed.push({ txID: txns[txidx].txID(), blob: txns[txidx].signTxn(this.pkToSk[addr].sk) });\n                }\n                else {\n                    signed.push({ txID: \"\", blob: new Uint8Array() });\n                }\n            }\n            return signed;\n        });\n    }\n    sign(txn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const addr = this.getDefaultAccount();\n            return algosdk_2.default.signTransaction(new algosdk_1.Transaction(txn), this.pkToSk[addr].sk);\n        });\n    }\n    signBytes(b) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const addr = this.getDefaultAccount();\n            return algosdk_2.default.signBytes(b, this.pkToSk[addr].sk);\n        });\n    }\n    signTeal(teal) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n}\nexports.default = InsecureWallet;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst algosdk_1 = __importDefault(require(\"algosdk\"));\nconst client_1 = __importDefault(require(\"@walletconnect/client\"));\nconst qrcode_modal_1 = __importDefault(require(\"@walletconnect/qrcode-modal\"));\nconst utils_1 = require(\"@json-rpc-tools/utils\");\nconst logo = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzAwcHgiIGhlaWdodD0iMTg1cHgiIHZpZXdCb3g9IjAgMCAzMDAgMTg1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0OS4zICg1MTE2NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+V2FsbGV0Q29ubmVjdDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJ3YWxsZXRjb25uZWN0LWxvZ28tYWx0IiBmaWxsPSIjM0I5OUZDIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNNjEuNDM4NTQyOSwzNi4yNTYyNjEyIEMxMTAuMzQ5NzY3LC0xMS42MzE5MDUxIDE4OS42NTA1MywtMTEuNjMxOTA1MSAyMzguNTYxNzUyLDM2LjI1NjI2MTIgTDI0NC40NDgyOTcsNDIuMDE5Njc4NiBDMjQ2Ljg5Mzg1OCw0NC40MTQwODY3IDI0Ni44OTM4NTgsNDguMjk2MTg5OCAyNDQuNDQ4Mjk3LDUwLjY5MDU5OSBMMjI0LjMxMTYwMiw3MC40MDYxMDIgQzIyMy4wODg4MjEsNzEuNjAzMzA3MSAyMjEuMTA2MzAyLDcxLjYwMzMwNzEgMjE5Ljg4MzUyMSw3MC40MDYxMDIgTDIxMS43ODI5MzcsNjIuNDc0OTU0MSBDMTc3LjY2MTI0NSwyOS4wNjY5NzI0IDEyMi4zMzkwNTEsMjkuMDY2OTcyNCA4OC4yMTczNTgyLDYyLjQ3NDk1NDEgTDc5LjU0MjMwMiw3MC45Njg1NTkyIEM3OC4zMTk1MjA0LDcyLjE2NTc2MzMgNzYuMzM3MDAxLDcyLjE2NTc2MzMgNzUuMTE0MjIxNCw3MC45Njg1NTkyIEw1NC45Nzc1MjY1LDUxLjI1MzA1NjEgQzUyLjUzMTk2NTMsNDguODU4NjQ2OSA1Mi41MzE5NjUzLDQ0Ljk3NjU0MzkgNTQuOTc3NTI2NSw0Mi41ODIxMzU3IEw2MS40Mzg1NDI5LDM2LjI1NjI2MTIgWiBNMjgwLjIwNjMzOSw3Ny4wMzAwMDYxIEwyOTguMTI4MDM2LDk0LjU3NjkwMzEgQzMwMC41NzM1ODUsOTYuOTcxMyAzMDAuNTczNTk5LDEwMC44NTMzOCAyOTguMTI4MDY3LDEwMy4yNDc3OTMgTDIxNy4zMTc4OTYsMTgyLjM2ODkyNyBDMjE0Ljg3MjM1MiwxODQuNzYzMzUzIDIxMC45MDczMTQsMTg0Ljc2MzM4IDIwOC40NjE3MzYsMTgyLjM2ODk4OSBDMjA4LjQ2MTcyNiwxODIuMzY4OTc5IDIwOC40NjE3MTQsMTgyLjM2ODk2NyAyMDguNDYxNzA0LDE4Mi4zNjg5NTcgTDE1MS4xMDc1NjEsMTI2LjIxNDM4NSBDMTUwLjQ5NjE3MSwxMjUuNjE1NzgzIDE0OS41MDQ5MTEsMTI1LjYxNTc4MyAxNDguODkzNTIxLDEyNi4yMTQzODUgQzE0OC44OTM1MTcsMTI2LjIxNDM4OSAxNDguODkzNTE0LDEyNi4yMTQzOTMgMTQ4Ljg5MzUxLDEyNi4yMTQzOTYgTDkxLjU0MDU4ODgsMTgyLjM2ODkyNyBDODkuMDk1MDUyLDE4NC43NjMzNTkgODUuMTMwMDEzMywxODQuNzYzMzk5IDgyLjY4NDQyNzYsMTgyLjM2OTAxNCBDODIuNjg0NDEzMywxODIuMzY5IDgyLjY4NDM5OCwxODIuMzY4OTg2IDgyLjY4NDM4MjcsMTgyLjM2ODk3IEwxLjg3MTk2MzI3LDEwMy4yNDY3ODUgQy0wLjU3MzU5NjkzOSwxMDAuODUyMzc3IC0wLjU3MzU5NjkzOSw5Ni45NzAyNzM1IDEuODcxOTYzMjcsOTQuNTc1ODY1MyBMMTkuNzkzNjkyOSw3Ny4wMjg5OTggQzIyLjIzOTI1MzEsNzQuNjM0NTg5OCAyNi4yMDQyOTE4LDc0LjYzNDU4OTggMjguNjQ5ODUzMSw3Ny4wMjg5OTggTDg2LjAwNDgzMDYsMTMzLjE4NDM1NSBDODYuNjE2MjIxNCwxMzMuNzgyOTU3IDg3LjYwNzQ3OTYsMTMzLjc4Mjk1NyA4OC4yMTg4NzA0LDEzMy4xODQzNTUgQzg4LjIxODg3OTYsMTMzLjE4NDM0NiA4OC4yMTg4ODc4LDEzMy4xODQzMzggODguMjE4ODk2OSwxMzMuMTg0MzMxIEwxNDUuNTcxLDc3LjAyODk5OCBDMTQ4LjAxNjUwNSw3NC42MzQ1MzQ3IDE1MS45ODE1NDQsNzQuNjM0NDQ0OSAxNTQuNDI3MTYxLDc3LjAyODc5OCBDMTU0LjQyNzE5NSw3Ny4wMjg4MzE2IDE1NC40MjcyMjksNzcuMDI4ODY1MyAxNTQuNDI3MjYyLDc3LjAyODg5OSBMMjExLjc4MjE2NCwxMzMuMTg0MzMxIEMyMTIuMzkzNTU0LDEzMy43ODI5MzIgMjEzLjM4NDgxNCwxMzMuNzgyOTMyIDIxMy45OTYyMDQsMTMzLjE4NDMzMSBMMjcxLjM1MDE3OSw3Ny4wMzAwMDYxIEMyNzMuNzk1NzQsNzQuNjM1NTk2OSAyNzcuNzYwNzc4LDc0LjYzNTU5NjkgMjgwLjIwNjMzOSw3Ny4wMzAwMDYxIFoiIGlkPSJXYWxsZXRDb25uZWN0Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\nclass WC {\n    constructor(network) {\n        this.accounts = [];\n        this.defaultAccount = 0;\n        this.network = network;\n        const bridge = \"https://bridge.walletconnect.org\";\n        this.connector = new client_1.default({ bridge, qrcodeModal: qrcode_modal_1.default });\n    }\n    connect(cb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Check if connection is already established\n            if (this.connector.connected)\n                return true;\n            this.connector.createSession();\n            this.connector.on(\"connect\", (error, payload) => {\n                if (error) {\n                    throw error;\n                }\n                const { accounts } = payload.params[0];\n                cb(accounts);\n                this.accounts = accounts;\n            });\n            this.connector.on(\"session_update\", (error, payload) => {\n                if (error) {\n                    throw error;\n                }\n                const { accounts } = payload.params[0];\n                cb(accounts);\n                this.accounts = accounts;\n            });\n            this.connector.on(\"disconnect\", (error, payload) => { if (error)\n                throw error; });\n            return true;\n        });\n    }\n    static displayName() { return \"Wallet Connect\"; }\n    displayName() { return WC.displayName(); }\n    static img(inverted) { return logo; }\n    img(inverted) {\n        return WC.img(inverted);\n    }\n    isConnected() { return this.connector.connected; }\n    disconnect() { this.connector.killSession(); }\n    getDefaultAccount() {\n        if (!this.isConnected())\n            return \"\";\n        return this.accounts[this.defaultAccount];\n    }\n    signTxn(txns) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const defaultAddress = this.getDefaultAccount();\n            const txnsToSign = txns.map((txn) => {\n                const encodedTxn = Buffer.from(algosdk_1.default.encodeUnsignedTransaction(txn)).toString(\"base64\");\n                if (algosdk_1.default.encodeAddress(txn.from.publicKey) !== defaultAddress)\n                    return { txn: encodedTxn, signers: [] };\n                return { txn: encodedTxn };\n            });\n            const request = utils_1.formatJsonRpcRequest(\"algo_signTxn\", [txnsToSign]);\n            const result = yield this.connector.sendCustomRequest(request);\n            return result.map((element, idx) => {\n                return element ? {\n                    txID: txns[idx].txID(),\n                    blob: new Uint8Array(Buffer.from(element, \"base64\"))\n                } : {\n                    txID: txns[idx].txID(),\n                    blob: new Uint8Array()\n                };\n            });\n        });\n    }\n    sign(txn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n    signBytes(b) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n    signTeal(teal) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Method not implemented.');\n        });\n    }\n}\nexports.default = WC;\n","import * as React from 'react'\nimport { Button, Elevation, FileInput, Card, Dialog, Classes, Collapse, NumericInput, FormGroup } from \"@blueprintjs/core\"\nimport { imageIntegrity, NFT, NFTMetadata } from './lib/nft'\nimport { SessionWallet } from 'algorand-session-wallet'\nimport { putToIPFS } from './lib/ipfs'\nimport{ useHistory } from 'react-router-dom'\nimport { collapseTextChangeRangesAcrossMultipleVersions } from 'typescript'\n\nexport type MinterProps = {\n    sw: SessionWallet\n}\n\nexport function Minter(props: MinterProps){\n\n    const history = useHistory()\n\n    const [meta, setMeta]               = React.useState(new NFTMetadata())\n    const [loading, setLoading]         = React.useState(false)\n    const [imgSrc, setImgSrc]           = React.useState<string>();\n    const [fileObj, setFileObj]         = React.useState<File>();\n    const [decimals, setDecimals]       = React.useState(0)\n\n    const [extraProps, setExtraProps]   = React.useState([])\n    const [extraPropsVisible, setExtraPropsVisible] = React.useState(false)\n\n    // For MintDialog\n    const [cid, setCID]                 = React.useState(\"\")\n    const [isMinting, setIsMinting]     = React.useState(false)\n\n    function setFile(file: File) {\n        setFileObj(file)\n\n        const reader = new FileReader();\n        reader.onload = (e: any) => {  setImgSrc(e.target.result) }\n        reader.readAsDataURL(file);\n\n        setMeta((meta)=>{\n            return new NFTMetadata({\n                ...meta,\n                image: file.name,\n                image_mimetype: file.type,\n                properties:{...meta.properties, size:file.size}\n            })\n        })\n    }\n\n    async function mintNFT() {\n        setLoading(true) \n        const md = captureMetadata()\n        md.image_integrity = await imageIntegrity(fileObj)\n        setMeta(md)\n\n        const cid = await putToIPFS(fileObj, md)\n        setCID(cid)\n\n        setIsMinting(true)\n    }\n\n    function handleCancelMint(){\n        setIsMinting(false)\n        setLoading(false)\n    }\n\n    function handleSetNFT(nft: NFT){\n        return history.push(\"/nft/\"+nft.token.id)\n    }\n\n    function handleChangeDecimals(v: number){ setDecimals(v) }\n\n    function handleChangeMeta(event: { target: any; }) {\n        const target = event.target\n\n        const name = target.name as string\n        const value = target.type === 'checkbox' ? target.checked : target.value as string\n\n        setMeta((meta)=>{ return  new NFTMetadata({...meta, [name]:value}) })\n    }\n\n    function handleShowExtraProps(){ setExtraPropsVisible(!extraPropsVisible) }\n    function handleExtraPropUpdate(e){\n        const idx=parseInt(e.target.dataset.id)\n        if(e.target.id===\"name\") extraProps[idx][e.target.id]=e.target.value\n        else extraProps[idx][e.target.id] = e.target.value\n        setExtraProps([...extraProps])\n    }\n    function handleExtraPropRemove(idx: number) { extraProps.splice(idx, 1); setExtraProps([...extraProps]) }\n    function handleAddExtraProp() { setExtraProps([...extraProps, emptyExtraProp()]) }\n    function emptyExtraProp(){ return { name:\"\", value: \"\" } }\n\n\n    function captureMetadata(): NFTMetadata {\n        const eprops = extraProps.reduce((all, ep)=>{ return {...all, [ep.name]:ep.value} }, {})\n        return new NFTMetadata({\n            name:           meta.name,\n            description:    meta.description,\n            image_mimetype: meta.image_mimetype,\n            decimals:       decimals,\n            properties:     { ...eprops, ...meta.properties}\n        })\n    }\n\n    return (\n        <div className='container'>\n            <Card elevation={Elevation.TWO} >\n                <Uploader\n                    imgSrc={imgSrc}\n                    setFile={setFile}\n                    {...meta} />\n\n                <div className='container' >\n                    <FormGroup \n                        helperText=\"The Name for this asset\"\n                        label=\"Name\"\n                        labelFor=\"name\"\n                        labelInfo=\"(required)\" >\n                        <input\n                            name='name'\n                            placeholder='Name'\n                            className='details-basic details-title bp3-input bp3-large'\n                            onChange={handleChangeMeta}\n                            type='text'\n                            id='name'\n                            value={meta.name} />\n                    </FormGroup>\n                </div>\n\n                <div className='container'>\n                    <FormGroup \n                        helperText=\"A description of this asset\"\n                        label=\"Description\"\n                        labelFor=\"description\"\n                        labelInfo=\"(required)\" >\n                        <textarea\n                            rows={10}\n                            cols={30}\n                            placeholder='Description'\n                            className='details-description bp3-input bp3-large'\n                            onChange={handleChangeMeta}\n                            name='description'\n                            id='description'\n                            value={meta.description} />\n                    </FormGroup>\n                </div>\n\n                <div className='container'>\n                    <FormGroup \n                        helperText=\"The number of decimals for this asset, increases number of units\"\n                        label=\"Decimals\"\n                        labelFor=\"decimals\"\n                        labelInfo=\"(A value > 0 is considered a 'Fractional NFT')\" >\n                        <NumericInput \n                            defaultValue={decimals} min={0} max={19} \n                            name='decimals'\n                            id='decimals' \n                            fill={true}\n                            onValueChange={handleChangeDecimals} />\n                    </FormGroup>\n                </div>\n\n                <div className='container extra-prop-dropdown'>\n                        <Button onClick={handleShowExtraProps}  minimal={true} outlined={true} text={extraPropsVisible?\"Hide extra props\":\"Show extra props\"} />\n                        <Collapse isOpen={extraPropsVisible}>\n                            <ul className='extra-prop-list'>\n                            { \n                                extraProps.map((props, idx)=>{ \n                                    return (\n                                    <li className='extra-prop-item' key={idx} >\n                                        <div className='extra-prop-container'>\n                                            <input \n                                                id=\"name\" \n                                                data-id={idx}\n                                                name=\"name\" \n                                                value={props.name}  \n                                                onChange={handleExtraPropUpdate} \n                                                className='details-basic details-artist bp3-input bp3-large' />\n                                            <input \n                                                id=\"value\" \n                                                name=\"value\" \n                                                data-id={idx}\n                                                value={props.value} \n                                                onChange={handleExtraPropUpdate} \n                                                className='details-basic details-artist bp3-input bp3-large' />\n                                            <Button minimal={true} icon='minus' onClick={()=>{ handleExtraPropRemove(idx) }}  />\n                                        </div>\n                                    </li>\n                                    )\n                                })\n                            }\n                            </ul>\n                            <Button fill={true} icon='plus' minimal={true} onClick={handleAddExtraProp} className='extra-prop-add' />\n                        </Collapse>\n                </div>\n\n                <div className='container container-mint'>\n                    <Button loading={loading}\n                        onClick={mintNFT}\n                        rightIcon='clean'\n                        large={true}\n                        minimal={true}\n                        outlined={true}\n                        intent='success'\n                        text='Mint' />\n                </div>\n            </Card>\n            <MintDialog \n                isMinting={isMinting} \n                cid={cid} \n                md={meta} \n                sw={props.sw}  \n                handleSetNFT={handleSetNFT}\n                handleCancelMint={handleCancelMint} \n                ></MintDialog>\n        </div>\n    )\n\n}\n\ntype UploaderProps = {\n    imgSrc: string | undefined\n    setFile(f: File): void\n};\n\nfunction Uploader(props: UploaderProps) {\n    function captureFile(event: any) {\n        event.stopPropagation()\n        event.preventDefault()\n        props.setFile(event.target.files.item(0))\n    }\n\n    if (props.imgSrc === undefined || props.imgSrc === \"\" ) return (\n        <div className='container'>\n            <div className='content content-piece' >\n                <FileInput large={true} disabled={false} text=\"Choose file...\" onInputChange={captureFile} />\n            </div>\n        </div>\n    )\n\n\n    return (\n        <div className='container' >\n            <div className='content content-piece'>\n                <img id=\"gateway-link\" alt=\"NFT\" src={props.imgSrc} />\n            </div>\n        </div>\n    )\n}\n\ntype MintDialogProps = {\n    isMinting: boolean\n    cid: string\n    md: NFTMetadata\n    sw: SessionWallet\n    handleSetNFT(NFT)\n    handleCancelMint()\n}\n\nfunction MintDialog(props: MintDialogProps){\n    const [isLoading, setIsLoading] = React.useState(false)\n\n    function cancel(){\n        setIsLoading(false)\n        props.handleCancelMint()\n    }\n\n    async function mint(){\n        try {\n            setIsLoading(true)\n            const nft = await NFT.create(props.sw.wallet, props.md, props.cid)\n            setIsLoading(false)\n            props.handleSetNFT(nft)\n        } catch (error) {\n           alert(\"Failed to create nft: \"+error) \n           setIsLoading(false)\n           props.handleCancelMint()\n        }\n    }\n\n    return (\n        <Dialog isOpen={props.isMinting} title=\"Mint it\" >\n            <div className={Classes.DIALOG_BODY}>\n                <p>File uploaded to ipfs {props.md.image} </p>\n                <p>Click \"Mint\" to create ASA</p>\n            </div>\n            <div className={Classes.DIALOG_FOOTER}>\n                <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                    <Button loading={isLoading} onClick={cancel}>Cancel</Button>\n                    <Button loading={isLoading} onClick={mint}>Mint</Button>\n                </div>\n            </div>\n        </Dialog>\n    )\n}","import * as React from 'react'\n\nimport { SessionWallet, allowedWallets } from 'algorand-session-wallet'\n\nimport { Dialog, Button, Classes, HTMLSelect, Intent } from '@blueprintjs/core'\nimport { IconName } from '@blueprintjs/icons'\n\n\ntype AlgorandWalletConnectorProps = {\n    darkMode: boolean\n    connected: boolean\n    accts: string[]\n    sessionWallet: SessionWallet\n    updateWallet(sw: SessionWallet): void\n}\n\nexport default function AlgorandWalletConnector(props:AlgorandWalletConnectorProps)  {\n\n    const [selectorOpen, setSelectorOpen] = React.useState(false)\n\n    const {sessionWallet,updateWallet} = props\n    React.useEffect(()=>{\n        if(sessionWallet.connected()) return\n\n        let interval: any\n        sessionWallet.connect().then((success)=>{\n            if(!success) return\n\n            // Check every 500ms to see if we've connected then kill the interval\n            // This is most useful in the case of walletconnect where it may be several \n            // seconds before the user connects\n            interval = setInterval(()=>{\n                if(sessionWallet.connected()) {\n                    clearInterval(interval)\n                    updateWallet(sessionWallet)\n                }\n            }, 500)\n\n        })\n\n        return ()=>{ clearInterval(interval) }\n\n    }, [sessionWallet, updateWallet])\n\n\n    function disconnectWallet() { \n        props.sessionWallet.disconnect()\n        props.updateWallet(new SessionWallet(props.sessionWallet.network, props.sessionWallet.permissionCallback)) \n    }\n\n    function handleDisplayWalletSelection() { setSelectorOpen(true) }\n\n    async function handleSelectedWallet(e: any) {\n        const choice = e.currentTarget.id\n\n        if(!(choice in allowedWallets)) {\n            if(props.sessionWallet.wallet !== undefined) props.sessionWallet.disconnect()\n            return setSelectorOpen(false)\n        }\n\n        const sw = new SessionWallet(props.sessionWallet.network, props.sessionWallet.permissionCallback, choice)\n\n        if(!await sw.connect()) {\n            sw.disconnect()\n        }\n\n        props.updateWallet(sw)\n\n        setSelectorOpen(false)\n    }\n\n    function handleChangeAccount(e: any) {\n        props.sessionWallet.setAccountIndex(parseInt(e.target.value))\n        props.updateWallet(props.sessionWallet)\n    }\n\n    const walletOptions = []\n    for(const [k,v] of Object.entries(allowedWallets)){\n        walletOptions.push((\n        <li key={k}>\n            <Button id={k}\n                large={true} \n                fill={true} \n                minimal={true} \n                outlined={true} \n                onClick={handleSelectedWallet}\n                > \n                <div className='wallet-option'>\n                    <img alt='wallet-branding' className='wallet-branding' src={  v.img(props.darkMode)} />\n                    <h5>{v.displayName()}</h5>\n                </div>\n                </Button>\n        </li>\n        ))\n    }\n\n    if (!props.connected) return (\n        <div>\n            <Button\n                minimal={true}\n                rightIcon='selection'\n                intent='warning'\n                outlined={true}\n                onClick={handleDisplayWalletSelection}>Connect Wallet</Button>\n\n            <Dialog isOpen={selectorOpen} title='Select Wallet' onClose={handleSelectedWallet} >\n                <div className={Classes.DIALOG_BODY}>\n                    <ul className='wallet-option-list'>\n                        {walletOptions}\n                    </ul>\n                </div>\n            </Dialog>\n        </div>\n    )\n\n\n    const addr_list = props.accts.map((addr, idx) => {\n        return (<option value={idx} key={idx}> {addr.substr(0, 8)}...  </option>)\n    })\n\n    const iconprops = { \n        icon: 'symbol-circle' as IconName, \n        intent: 'success'  as Intent\n    }\n\n    return (\n        <div>\n            <HTMLSelect \n                onChange={handleChangeAccount} \n                minimal={true} \n                iconProps={iconprops} \n                defaultValue={props.sessionWallet.accountIndex()} >\n                {addr_list}\n            </HTMLSelect>\n            <Button icon='log-out' minimal={true} onClick={disconnectWallet} ></Button>\n        </div>\n    )\n}","import * as React from 'react'\nimport { Elevation, Card, Icon } from \"@blueprintjs/core\"\nimport { NFT, NFTMetadata} from './lib/nft'\nimport { SessionWallet } from 'algorand-session-wallet'\nimport {useParams} from 'react-router-dom'\nimport { conf, getAddrUrl, getAsaUrl } from './lib/config'\nimport { validArc3, validateArc3 } from './lib/validator'\n\nexport type NFTViewerProps = {\n    sw: SessionWallet\n}\n\nexport function NFTViewer(props: NFTViewerProps) {\n    const {assetId} = useParams()\n\n    const [nft, setNFT] = React.useState(new NFT(new NFTMetadata()))\n    const [loaded, setLoaded] = React.useState(false)\n\n    React.useEffect(()=>{\n        setLoaded(false)\n\n        let subscribed = true\n\n        NFT.fromAssetId(assetId).then((nft)=>{ \n            if(!subscribed) return\n\n            setNFT(nft) \n            setLoaded(true)\n        })\n\n        return ()=>{ subscribed = false }\n    }, [assetId])\n\n    let img = <div></div>\n    let meta = <div></div>\n\n    if(loaded){\n        img = <img alt='nft' src={nft.imgURL()}/>\n\n        const mdProps = nft.metadata?Object.keys(nft.metadata).map((key,idx)=>{\n                let prop = nft.metadata[key]\n                if (prop === undefined) { prop = \"\" }\n                if (typeof prop === 'object'){ prop = JSON.stringify(prop) }\n                return (<li key={key} ><b>{key}: </b>{prop.toString()}</li>)\n        }):[<li key={'none'} >No metadata</li>]\n\n        const arc3Invalids = validateArc3(nft).map(test=>{\n            return (<li key={test} > <b>{test}</b> </li>) \n        })\n\n        meta = (\n            <ul>\n                <h5>Token Details</h5>\n\n                <li><b>ASA id: </b><a href={getAsaUrl(nft.token.id)} >{nft.token.id}</a></li>\n                <li><b>name: </b>{nft.token.name}</li>\n                <li><b>unit name: </b>{nft.token.unitName}</li>\n                <li><b>total: </b>{nft.token.total}</li>\n                <li><b>url: </b> <a href={nft.token.url} >{nft.token.url}</a></li>\n                <li><b>creator: </b><a href={getAddrUrl(nft.token.creator)} >{nft.token.creator}</a></li>\n                <li><b>freeze: </b><a href={getAddrUrl(nft.token.creator)} >{nft.token.freeze}</a></li>\n                <li><b>manager: </b><a href={getAddrUrl(nft.token.creator)} >{nft.token.manager}</a></li>\n                <hr/>\n                <h5>Metadata</h5>\n                {mdProps}\n                <hr />\n                <h5>ARC3 tests failing</h5>\n                {arc3Invalids}\n            </ul>\n        )\n    }\n    return (\n        <div className='container'>\n            <Card elevation={Elevation.THREE} >\n                <div className='container'> \n                    <div className='content content-piece'>\n                        {img}       \n                    </div>\n                    <div className='content content-info'>\n                        {meta}\n                    </div>\n                </div>\n            </Card>\n        </div>\n    )\n\n}\n","import * as React from 'react'\nimport { Elevation, Card, AnchorButton } from \"@blueprintjs/core\"\nimport { SessionWallet } from 'algorand-session-wallet'\nimport {useParams} from 'react-router-dom'\nimport { conf } from './lib/config'\nimport {getCollection} from './lib/algorand' \nimport { validArc3 } from './lib/validator'\n\nexport type CollectionProps = {\n    sw: SessionWallet\n}\n\nexport function Collection(props: CollectionProps) {\n    const {address} = useParams()\n\n    const [collection, setCollection] = React.useState([])\n    const [loaded, setLoaded] = React.useState(false)\n\n    React.useEffect(()=>{\n        setLoaded(false)\n        getCollection(address).then((collection)=>{\n            setCollection(collection)\n            console.log(collection)\n            setLoaded(true)\n        })\n    }, [address])\n\n    let nfts = [<h3 key='looking'>Checking for NFTs...</h3>]\n    if(loaded ){\n        if(collection.length>0){\n            nfts = collection.map((nft)=>{\n                const md = nft.metadata\n                const icon = validArc3(nft)?\"confirm\":\"circle\"\n                return (\n                <Card className='content-collection-item' key={nft.token.id} elevation={Elevation.TWO}>\n                    <img alt='nft content' src={nft.imgURL()} />\n                    <AnchorButton icon={icon} minimal={true} href={'/nft/'+nft.token.id}><b>{md.name?md.name:nft.token.name}</b></AnchorButton>\n                </Card>\n                )\n            })\n        }else{\n            nfts = [<h3 key='none'>You dont have any ARC3 compliant NFTs on {conf.network}, <a href='/mint'>Mint one?</a></h3>]\n        }\n    }\n    return (\n    <div className='container'>\n        <div className='content content-collection'>\n            {nfts}\n        </div>\n    </div>\n    )\n}","import { AnchorButton, Alignment, Navbar, Dialog, Classes, Intent, Button } from '@blueprintjs/core';\nimport { SessionWallet } from 'algorand-session-wallet';\nimport React from 'react';\nimport {Minter} from './Minter';\nimport AlgorandWalletConnector from './AlgorandWalletConnector'\nimport {NFTViewer} from './NFTViewer'\nimport {Collection} from './Collection'\nimport { conf } from './lib/config';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom'\n\n\nconst SEEN_INFO = \"seen-info\"\n\ntype AppProps = {\n  history: History\n}\n\n\nfunction App(props: AppProps) {\n\n  const sw = new SessionWallet(conf.network)\n\n  const [sessionWallet, setSessionWallet] =  React.useState(sw)\n  const [accts, setAccounts] = React.useState(sw.accountList())\n  const [connected, setConnected] = React.useState(sw.connected())\n\n  const [seenInfo, setSeenInfo] = React.useState(sessionStorage.getItem(SEEN_INFO)==='true')\n\n  function ackInfo() {\n    setSeenInfo(true)\n    sessionStorage.setItem(SEEN_INFO, 'true')\n  }\n\n  function updateWallet(sw: SessionWallet){ \n    setSessionWallet(sw)\n    setAccounts(sw.accountList())\n    setConnected(sw.connected())\n  }\n\n  let collectionLink = <div></div>\n  if(connected){\n    collectionLink = <AnchorButton minimal={true} icon='folder-open' href={'/collection/'+sw.getDefaultAccount()} text='Collection' />\n  }\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar>\n        <Navbar.Group align={Alignment.LEFT}>\n          <Navbar.Heading>ARC3.xyz</Navbar.Heading>\n          <Navbar.Divider />\n          <AnchorButton minimal={true} icon='clean' href='/mint' text='Mint' />\n          {collectionLink}\n        </Navbar.Group>\n        <Navbar.Group  align={Alignment.RIGHT}>\n\n          <AlgorandWalletConnector  \n            darkMode={false}\n            sessionWallet={sessionWallet}\n            accts={accts}\n            connected={connected} \n            updateWallet={updateWallet}\n          />\n\n        </Navbar.Group>\n        </Navbar>\n        <Switch>\n          <Route exact path=\"/\" children={<Minter  sw={sessionWallet}></Minter>} />\n          <Route exact path=\"/mint\" children={ <Minter  sw={sessionWallet}></Minter> }/>\n          <Route path=\"/nft/:assetId\" children={ <NFTViewer  sw={sessionWallet} /> }/>\n          <Route path=\"/collection/:address\" children={ <Collection  sw={sessionWallet} /> }/>\n        </Switch>\n        <InfoDialog seenInfo={seenInfo} ack={ackInfo}></InfoDialog>\n      </div>\n    </Router>\n  );\n\n}\n\ntype InfoProps = {\n  seenInfo: boolean\n  ack()\n}\n\nfunction InfoDialog(props: InfoProps) {\n  const [open, setOpen] = React.useState(!props.seenInfo)\n  function handleClose() {\n    setOpen(false)\n    props.ack()\n  }\n  return (\n    <Dialog \n      icon='info-sign'\n      onClose={handleClose}\n      isOpen={open}\n    >\n        <div className={Classes.DIALOG_BODY}>\n          <p>This site now points to MainNet.</p>\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button onClick={handleClose} intent={Intent.PRIMARY} >Got it</Button>\n          </div>\n        </div>\n    </Dialog>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport {createBrowserHistory} from \"history\"\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App history={history} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionWallet = exports.allowedWallets = void 0;\nconst algosigner_1 = __importDefault(require(\"./wallets/algosigner\"));\nconst myalgoconnect_1 = __importDefault(require(\"./wallets/myalgoconnect\"));\nconst insecure_1 = __importDefault(require(\"./wallets/insecure\"));\nconst walletconnect_1 = __importDefault(require(\"./wallets/walletconnect\"));\nexports.allowedWallets = {\n    'algo-signer': algosigner_1.default,\n    'my-algo-connect': myalgoconnect_1.default,\n    'insecure-wallet': insecure_1.default,\n    'wallet-connect': walletconnect_1.default,\n};\nconst walletPreferenceKey = 'wallet-preference';\nconst acctListKey = 'acct-list';\nconst acctPreferenceKey = 'acct-preference';\nconst mnemonicKey = 'mnemonic';\nclass SessionWallet {\n    constructor(network, permissionCallback, wname) {\n        if (wname)\n            this.setWalletPreference(wname);\n        this.network = network;\n        this.wname = this.walletPreference();\n        if (permissionCallback)\n            this.permissionCallback = permissionCallback;\n        if (!(this.wname in exports.allowedWallets))\n            return;\n        this.wallet = new exports.allowedWallets[this.wname](network);\n        this.wallet.permissionCallback = this.permissionCallback;\n        this.wallet.accounts = this.accountList();\n        this.wallet.defaultAccount = this.accountIndex();\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.wallet === undefined)\n                return false;\n            switch (this.wname) {\n                case 'insecure-wallet':\n                    const storedMnemonic = this.mnemonic();\n                    const mnemonic = storedMnemonic ? storedMnemonic :\n                        prompt(\"Paste your mnemonic space delimited (DO NOT USE WITH MAINNET ACCOUNTS)\");\n                    if (!mnemonic)\n                        return false;\n                    if (yield this.wallet.connect(mnemonic)) {\n                        this.setMnemonic(mnemonic);\n                        this.setAccountList(this.wallet.accounts);\n                        this.wallet.defaultAccount = this.accountIndex();\n                        return true;\n                    }\n                    break;\n                case 'wallet-connect':\n                    yield this.wallet.connect((acctList) => {\n                        this.setAccountList(acctList);\n                        this.wallet.defaultAccount = this.accountIndex();\n                    });\n                    return true;\n                default:\n                    if (yield this.wallet.connect()) {\n                        this.setAccountList(this.wallet.accounts);\n                        this.wallet.defaultAccount = this.accountIndex();\n                        return true;\n                    }\n                    break;\n            }\n            // Fail\n            this.disconnect();\n            return false;\n        });\n    }\n    connected() { return (this.wallet !== undefined && this.wallet.isConnected()); }\n    setAccountList(accts) { sessionStorage.setItem(acctListKey, JSON.stringify(accts)); }\n    accountList() {\n        const accts = sessionStorage.getItem(acctListKey);\n        return accts === \"\" || accts === null ? [] : JSON.parse(accts);\n    }\n    setAccountIndex(idx) { this.wallet.defaultAccount = idx; sessionStorage.setItem(acctPreferenceKey, idx.toString()); }\n    accountIndex() {\n        const idx = sessionStorage.getItem(acctPreferenceKey);\n        return idx === null || idx === \"\" ? 0 : parseInt(idx, 10);\n    }\n    setWalletPreference(wname) { this.wname = wname; sessionStorage.setItem(walletPreferenceKey, wname); }\n    walletPreference() {\n        const wp = sessionStorage.getItem(walletPreferenceKey);\n        return wp === null ? \"\" : wp;\n    }\n    setMnemonic(m) { sessionStorage.setItem(mnemonicKey, m); }\n    mnemonic() {\n        const mn = sessionStorage.getItem(mnemonicKey);\n        return mn === null ? \"\" : mn;\n    }\n    disconnect() {\n        if (this.wallet !== undefined)\n            this.wallet.disconnect();\n        sessionStorage.setItem(walletPreferenceKey, '');\n        sessionStorage.setItem(acctPreferenceKey, '');\n        sessionStorage.setItem(acctListKey, '');\n        sessionStorage.setItem(mnemonicKey, '');\n    }\n    getDefaultAccount() {\n        if (!this.connected())\n            return \"\";\n        return this.wallet.getDefaultAccount();\n    }\n    signTxn(txns) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.connected() && !(yield this.connect()))\n                return [];\n            return this.wallet.signTxn(txns);\n        });\n    }\n}\nexports.SessionWallet = SessionWallet;\n","import { Wallet } from 'algorand-session-wallet';\nimport algosdk, { Transaction } from 'algosdk'\nimport { NFT, NFTMetadata, Token } from './nft';\nimport {conf} from './config'\n\nconst client = new algosdk.Algodv2(\"\", conf.algod, \"\")\n\n\nexport async function createToken(wallet: Wallet, md: NFTMetadata, url: string, decimals: number): Promise<number> {\n    const addr      = wallet.getDefaultAccount()\n    const suggested = await getSuggested(10)\n\n    const create_txn = getAsaCreateTxn(suggested, addr, md.arc3Name(), md.toHash(), url, decimals)\n\n    const [create_txn_s]  = await wallet.signTxn([create_txn])\n\n    const result = await sendWait([create_txn_s])\n    return result['asset-index']\n}\n\nexport async function getSuggested(rounds: number) {\n    const txParams = await client.getTransactionParams().do();\n    return { ...txParams, lastRound: txParams['firstRound'] + rounds }\n}\n\nexport function getPayTxn(suggestedParams: any, addr: string): Transaction {\n    return  new Transaction({\n        type:\"pay\",\n        from: addr,\n        to: addr,\n        amount: 0,\n        ...suggestedParams\n    })\n}\n\nexport function getAsaCreateTxn(suggestedParams: any, addr: string, name: string, mdhash: Uint8Array, url: string, decimals:  number): Transaction {\n    return  new Transaction({\n        from: addr,\n        assetName: name,\n        assetURL: url,\n        assetMetadataHash: mdhash,\n        assetManager: addr,\n        assetReserve: addr,\n        assetClawback: addr,\n        assetFreeze: addr,\n        assetTotal: Math.pow(10, decimals),\n        assetDecimals: decimals,\n        type: 'acfg',\n        ...suggestedParams\n    })\n}\n\nexport async function sendWait(signed: any[]): Promise<any> {\n    try {\n        const {txId}  = await client.sendRawTransaction(signed.map((t)=>{return t.blob})).do()\n        const result = await waitForConfirmation(txId, 3)\n        return result \n    } catch (error) { \n        console.error(error)\n    }\n\n    return undefined \n}\n\nexport async function waitForConfirmation(txId, timeout) {\n    if (client == null || txId == null || timeout < 0) {\n      throw new Error('Bad arguments.');\n    }\n\n    const status = await client.status().do();\n    if (typeof status === 'undefined')\n      throw new Error('Unable to get node status');\n\n    const startround = status['last-round'] + 1;\n    let currentround = startround;\n  \n    /* eslint-disable no-await-in-loop */\n    while (currentround < startround + timeout) {\n      const pending = await client \n        .pendingTransactionInformation(txId)\n        .do();\n\n      if (pending !== undefined) {\n        if ( pending['confirmed-round'] !== null && pending['confirmed-round'] > 0) \n          return pending;\n  \n        if ( pending['pool-error'] != null && pending['pool-error'].length > 0) \n          throw new Error( `Transaction Rejected pool error${pending['pool-error']}`);\n      }\n\n      await client.statusAfterBlock(currentround).do();\n      currentround += 1;\n    }\n\n    /* eslint-enable no-await-in-loop */\n    throw new Error(`Transaction not confirmed after ${timeout} rounds!`);\n}\n\nexport async function getToken(assetId: number): Promise<any> {\n  return await client.getAssetByID(assetId).do()\n}\n\nexport async function getCollection(address: string): Promise<any[]> {\n  const results = await client.accountInformation(address).do()\n\n  const plist = []\n  for(const a in results['assets']){\n    if(results['assets'][a]['amount']>0)\n      plist.push(getToken(results['assets'][a]['asset-id']))\n  }\n\n  const assets = await Promise.all(plist)\n\n  const collectionRequests = assets\n    .map((a)=>{ return NFT.fromToken(a) })\n    //.filter((a)=>{ return NFT.isArc3(a) })\n\n  return Promise.all(collectionRequests)\n\n}","import { ipfsURL, NFTMetadata } from './nft'\nimport {conf} from './config'\n\n/*\n Currently an issue with resolving ipfs-car module in web3.storage when using react-scripts\n We just use the prebuilt one but with no types we have to just ignore the issue for now\n//import { Web3Storage } from 'web3.storage'\n*/\n// @ts-ignore\nimport { Web3Storage } from 'web3.storage/dist/bundle.esm.min.js'\n\nconst storage = new Web3Storage({token: conf.storageToken})\n\nexport async function putToIPFS(file: File, md: NFTMetadata): Promise<string> {\n    try {\n      const imgAdded = await storage.put([file], {wrapWithDirectory: false})\n      md.image = ipfsURL(imgAdded)\n\n      return await storage.put([md.toFile()], {wrapWithDirectory: false})\n\n    } catch (err) { console.error(err) }\n    return \"\"\n}\n\n\nexport async function getMimeTypeFromIpfs(url: string): Promise<string> {\n    const req = new Request(url, { method:\"HEAD\" })\n    const resp = await fetch(req)\n    return resp.headers.get(\"Content-Type\")\n}\n\n\nexport async function getMetaFromIpfs(url: string): Promise<NFTMetadata> {\n    const req = new Request(url)\n    const resp = await fetch(req)\n    const body = await resp.blob()\n    return new NFTMetadata(JSON.parse(await body.text())) \n}\n\n\n"],"sourceRoot":""}